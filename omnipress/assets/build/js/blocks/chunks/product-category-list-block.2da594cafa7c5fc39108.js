"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[6406],{2419:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var o=r(4467),n=r(42),s=r(3453),a=r(7723),i=r(4715),c=r(6087),l=r(467),u=r(9280),d=r.n(u),p=r(1455),g=r.n(p),h={},m=function(){var e=(0,l.A)(d().mark((function e(){var t,r,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h[t=o.length>0&&void 0!==o[0]?o[0]:"wc/store/v1/products/categories"]){e.next=3;break}return e.abrupt("return",h[t]);case 3:return e.prev=3,e.next=6,g()({path:t,method:"GET"});case 6:return r=e.sent,h[t]=r,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),b=r(8943),f=r(6427),y=(r(5107),r(4182)),w=r(790);const j=function(e){var t,r=e.attributes,o=e.setAttributes,n=e.clientId,i=(0,c.useState)([]),l=(0,s.A)(i,2),u=l[0],d=l[1];return(0,c.useEffect)((function(){var e=!0;return m().then((function(t){if(t){var r=null==t?void 0:t.map((function(e){return"".concat(e.id,"-").concat(e.slug)}));e&&d(r)}})),function(){e=!1}}),[]),(0,w.jsx)(y.G,{clientId:n,group:"general",children:(0,w.jsxs)(f.PanelBody,{title:(0,a.__)("General","omnipress"),children:[(0,w.jsxs)(b.j,{children:[(0,w.jsx)(f.SelectControl,{value:null===(t=r.layout)||void 0===t?void 0:t.toString(),label:(0,a.__)("Choose Layout","omnipress"),onChange:function(e){return o({layout:parseInt(e,10)})},options:[{label:"Layout One",value:"1"},{label:"Layout Two",value:"2"}]}),(0,w.jsx)(b.T_,{label:"Show Empty Category",checked:r.hasEmpty,onChange:function(){return o({hasEmpty:!r.hasEmpty})}}),(0,w.jsx)(b.T_,{label:"Show Count",checked:r.hasCount,onChange:function(){return o({hasCount:!r.hasCount})}}),(0,w.jsx)(b.T_,{label:"Show All Category",checked:!r.categorySelected,onChange:function(){return o({categorySelected:!r.categorySelected})}}),(0,w.jsx)(b.T_,{label:"Show Children Only",checked:r.showChildOnly,onChange:function(){return o({showChildOnly:!r.showChildOnly})}})]}),r.categorySelected&&(0,w.jsx)(b.j,{children:u.length?(0,w.jsx)(f.FormTokenField,{label:"Select Categories",__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,onChange:function(e){o({selectedCategoriesList:e})},suggestions:u,value:r.selectedCategoriesList}):"Category Not found"})]})})};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={1:function(e){var t=e.categories;return t?t.map((function(e){var t,r,o,n,s,a;return(0,w.jsxs)("div",{className:"op-woo-catlist__item",children:[(0,w.jsxs)("div",{className:"op-woo-catlist__item-title",children:[(0,w.jsx)("figure",{children:(0,w.jsx)("a",{href:"#",className:"op-woo-catlist__item-title-imglink",target:"_self",children:(0,w.jsx)("img",{width:32,height:32,className:"op-woo-catlist__item-image",src:null!==(t=null===(r=e.image)||void 0===r?void 0:r.thumbnail)&&void 0!==t?t:"".concat(null===(o=window._omnipress)||void 0===o||null===(o=o.urls)||void 0===o?void 0:o.home,"/wp-content/plugins/omnipress/assets/images/placeholder.webp"),srcSet:null===(n=e.image)||void 0===n?void 0:n.srcSet,alt:"".concat(null!==(s=e.name)&&void 0!==s?s:"Woocommerce product ","with ").concat(null!==(a=e.count)&&void 0!==a?a:0," products")})})}),(0,w.jsx)("h4",{children:(0,w.jsx)("a",{href:"#",target:"_self",children:e.name})})]}),(0,w.jsx)("a",{href:"#",className:"op-woo-catlist__item-product-count",children:(0,w.jsx)("span",{children:e.count})})]},e.id)})):null},2:function(e){var t=e.categories;return t?(0,w.jsx)(w.Fragment,{children:t.map((function(e){var t,r,o,n;return(0,w.jsxs)("div",{className:"op-woo-catlist__item",children:[(0,w.jsx)("div",{className:"op-woo-catlist__item-image",children:(0,w.jsx)("figure",{children:(0,w.jsx)("a",{href:"#",className:"op-woo-catlist__item-title-imglink",target:"_self",children:(0,w.jsx)("img",{className:"op-woo-catlist__item-image",src:null!==(t=null===(r=e.image)||void 0===r?void 0:r.thumbnail)&&void 0!==t?t:"".concat(null===(o=window._omnipress)||void 0===o||null===(o=o.urls)||void 0===o?void 0:o.home,"/wp-content/plugins/omnipress/assets/images/placeholder.webp"),srcSet:null===(n=e.image)||void 0===n?void 0:n.srcSet,alt:"".concat(e.name,"with ").concat(e.count," products")})})})}),(0,w.jsxs)("div",{className:"op-woo-catlist__item-title",children:[(0,w.jsx)("h4",{children:(0,w.jsx)("a",{href:"#",target:"_self",children:e.name})}),(0,w.jsxs)("span",{className:"op-woo-catlist__item-product-count",children:[e.count,"Products"]})]})]})}))}):null}};const O=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/woocategory-list","version":"1.0.0","title":"Products Category List","category":"omnipress-woo","icon":"","description":"Display WooCommerce product categories in a list view","supports":{"anchor":true},"attributes":{"blockId":{"type":"string"},"preset":{"type":"string","default":"one"},"hasEmpty":{"type":"boolean","default":true},"hasImage":{"type":"boolean","default":true},"hasCount":{"type":"boolean","default":true},"layout":{"type":"number","default":1},"isDropdown":{"type":"boolean","default":false},"categorySelected":{"type":"boolean","default":false},"selectedCategoriesList":{"type":"array","default":[]},"wrapper":{"type":"object","default":{}},"item":{"type":"object","default":{}},"image":{"type":"object","default":{}},"label":{"type":"object","default":{}},"count":{"type":"object","default":{}},"showChildOnly":{"type":"boolean","default":false}},"opSettings":{"item":{"group":"design","selector":".op-woo-catlist__item","label":"List Item","fields":{"spacing":{"margin":true,"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"image":{"group":"design","selector":"img.op-woo-catlist__item-image","label":"Image","fields":{"spacing":{"margin":true,"padding":true},"border":{"border":true,"borderRadius":true},"image":true}},"label":{"group":"design","selector":".op-woo-catlist__item-title h4","label":"Label","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"count":{"group":"design","selector":".op-woo-catlist__item-product-count","label":"Count","fields":{"color":{"background":true},"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}}},"textdomain":"omnipress","keywords":["woocommerce","woo","category","products"]}');function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=O.name,P=O.attributes,N=O.category;O.opSettings;const A=S(S({name:k,category:N,attributes:P,edit:function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,n=e.children,l=(0,c.useState)([]),u=(0,s.A)(l,2),d=u[0],p=u[1],g=t.blockId,h=(0,c.useState)(!1),y=(0,s.A)(h,2),v=y[0],O=y[1],C=(0,c.useState)(!1),S=(0,s.A)(C,2),k=(S[0],S[1]);(0,c.useEffect)((function(){var e=!0,r="",o=!t.categorySelected;if(o&&(r="wc/store/v1/products/categories"),t.selectedCategoriesList.length&&!o){var n,s="";null===(n=t.selectedCategoriesList)||void 0===n||n.forEach((function(e){s+="".concat(parseInt(e,10),",")})),s&&(r="wc/store/v1/products/categories?include=".concat(s))}return r?(O(!0),m(r).then((function(t){e&&Array.isArray(t)&&t.length>0&&p(t),O(!1)})).catch((function(e){return k(!0)}))):e&&(p([]),O(!1)),function(){e=!1}}),[t.categorySelected,t.selectedCategoriesList.length]);var P=(0,i.useBlockProps)({className:"op-block op-".concat(null!=g?g:"","  op-woo__catlist"),"data-type":"omnipress/product-category-list"}),N=x[t.layout];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",_(_({},P),{},{children:[n,(0,w.jsxs)("div",{className:"op-woo__catlist-wrapper catlist-layout-".concat(t.layout),children:[v&&(0,w.jsx)(b.t1,{}),d.length?(0,w.jsx)(N,{categories:d}):(0,w.jsx)(f.Notice,{isDismissible:!1,status:"warning",children:(0,a.__)("Categories Not selected or not Found!!","omnipress")})]})]})),(0,w.jsx)(j,{attributes:t,setAttributes:r,clientId:o})]})}},O),{},{icon:n.GM})}}]);