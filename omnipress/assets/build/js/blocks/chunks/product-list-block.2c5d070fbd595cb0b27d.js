"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[501],{4639:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var o=r(4467),s=r(42),i=r(6087),a=r(7008),n=r(4715),c=r(6427),l=r(7723),d=r(2690),u=r(9394),p=r(790);const g=function(e){var t=e.reviews,r=e.ratings,o=void 0===r?0:r;return(0,p.jsxs)("div",{className:"product-item-rating",children:[(0,u.A)(Array(5)).map((function(e,t){return(0,p.jsx)("span",{children:o>=t+1?(0,p.jsx)(a.gt3,{}):o>=t+.5?(0,p.jsx)(a.ZmB,{}):(0,p.jsx)(a.wei,{})},"review".concat(t))})),(0,p.jsx)("span",{className:"product-item-reviews-count",children:"(".concat(t," reviews)")})]})};var m=r(3453),b=r(8943),f=r(7438),h=r(4182);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=function(e){var t,r=e.attributes,s=e.setAttributes,a=e.clientId,n=(0,i.useState)(1),u=(0,m.A)(n,2),g=u[0],j=u[1],y=r.sortType,x=r.sortOrder,v=r.category,w=r.offset,O=r.rows,N=r.isHandPicked,k=(0,i.useCallback)((function(e){var t,r,o=null==e?void 0:e.split(",");s({sortType:null===(t=o[0])||void 0===t?void 0:t.trim(),sortOrder:null===(r=o[1])||void 0===r?void 0:r.trim()})}),[s]),P=(0,i.useCallback)((function(e){s({category:e})}),[s]),C=(0,d.st)("wc/store/v1/products?per_page=50&page=".concat(g)),S=(C.error,C.data),A=(C.loading,S.map((function(e){return e.slug}))),T="".concat(null!=y?y:"",",").concat(null!=x?x:"");return(0,p.jsxs)(h.G,{group:"general",clientId:a,children:[(0,p.jsx)(c.PanelBody,{title:(0,l.__)("Content","omnipress"),children:(0,p.jsxs)(b.j,{children:[(0,p.jsx)(b.T_,{label:"Show All Products",checked:!r.isHandPicked,onChange:function(){return s({isHandPicked:!r.isHandPicked})}}),N&&(0,p.jsxs)(p.Fragment,{children:[S.length&&(0,p.jsx)(c.FormTokenField,{label:"Select Products",__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,onChange:function(e){s({selectedProducts:e})},maxSuggestions:30,suggestions:A,value:r.selectedProducts}),(0,p.jsx)(c.Button,{variant:"secondary",onClick:function(){return j((function(e){return 50===S.length?e+1:1}))},children:(0,l.__)("Load more..","omnipress")}),(0,p.jsx)(c.Notice,{isDismissible:!1,children:(0,l.__)("This will fetch new products from the server.","omnipress")})]}),(0,p.jsx)(f.mo,{onChange:P,value:v||"",url:"/wc/store/v1/products/categories"}),(0,p.jsx)(f.u8,{value:T||"",onChange:k}),(0,p.jsx)(c.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,min:0,max:20,label:"Offset",onChange:function(e){return s({offset:e})},value:w||0}),(0,p.jsx)(c.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,min:1,max:20,label:"Rows",onChange:function(e){return s({rows:e})},value:O}),(0,p.jsx)(b.fN,{attributeObj:"gridWrapper",attributes:r,setAttributes:s,label:"Gap",propertyName:"gap"})]})}),(0,p.jsx)(c.PanelBody,{title:(0,l.__)("Toggle Content"),initialOpen:!1,children:(0,p.jsx)(b.j,{children:Object.keys(null!==(t=r.toggle)&&void 0!==t?t:{}).map((function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);return(0,p.jsx)(b.T_,{checked:r.toggle[e],label:t,onChange:function(){s({toggle:_(_({},r.toggle),{},(0,o.A)({},e,!r.toggle[e]))})}},e)}))})})]})};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t,r,o,s,n=e.productItem,c=e.toggle,d=n.name,u=n.images,m=n.prices,b=n.rating,f=n.permalink,h=n.add_to_cart,j=n.description;return(0,p.jsx)("li",{className:"product-item",children:(0,p.jsxs)("div",{className:"product-item-inner",children:[c.image&&(0,p.jsx)("div",{className:"product-item-image",children:(0,p.jsxs)("a",{href:f,onClick:function(e){return e.preventDefault()},children:[(0,p.jsxs)("div",{className:"op-product-labels",children:[n.on_sale&&c.badge&&(0,p.jsx)("span",{className:"op-onsale",children:(0,l.__)("Sale!","omnipress")}),c.discount&&(0,p.jsx)("span",{className:"op-discount",children:"".concat(Math.ceil(100*(m.regular_price-m.sale_price)/m.regular_price),"%")})]}),(0,p.jsx)("figure",{children:(0,p.jsx)("img",{srcSet:null===(t=u[1])||void 0===t?void 0:t.srcset,src:null===(r=u[0])||void 0===r?void 0:r.thumbnail,alt:""})})]})}),(0,p.jsxs)("div",{className:"product-item-details",children:[(0,p.jsx)("div",{className:"product-item-category-list",children:n.categories.map((function(e,t){return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("a",{onClick:function(e){return e.preventDefault()},children:e.name},e.id),t<n.categories.length-1?", ":""]},e.id)}))}),c.title&&(0,p.jsx)("a",{href:f,onClick:function(e){return e.preventDefault()},className:"product-item-title",children:(0,p.jsx)("h4",{dangerouslySetInnerHTML:{__html:d}})}),c.ratings&&(0,p.jsx)(g,{reviews:n.review_count,ratings:b}),c.description&&(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:j},className:"product-item-description"}),c.price&&(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:n.price_html},className:"product-item-price"}),m.price_range&&2===Object.keys(m.price_range).length&&(0,p.jsx)("span",{className:"product-item__price-range",children:"".concat(m.currency_prefix).concat(null===(o=m.price_range)||void 0===o?void 0:o.min_amount,"-").concat(m.currency_prefix).concat(null===(s=m.price_range)||void 0===s?void 0:s.max_amount)}),c.cart&&(0,p.jsx)("div",{className:"product-item-buttons-wrap",children:(0,p.jsx)("div",{className:"product-item-buttons",children:(0,p.jsxs)("a",{href:h.url,className:"op-add_to_cart",children:[(0,p.jsx)(a.AI$,{}),h.text]})})})]})]})})}const O=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/product-list","version":"1.0.0","title":"Product List","category":"omnipress","icon":"","description":"Display WooCommerce products in a list view","supports":{"html":false,"anchor":true},"attributes":{"blockId":{"type":"string"},"sortType":{"type":"string"},"sortOrder":{"type":"string"},"rows":{"type":"number"},"category":{"type":"string"},"offset":{"type":"number"},"toggle":{"type":"object","default":{"title":true,"description":true,"image":true,"price":true,"cart":true,"badge":true,"ratings":true,"discount":true,"categories":true}},"isHandPicked":{"type":"boolean","default":false},"selectedProducts":{"type":"array","default":[]},"hasEmpty":{"type":"boolean","default":true},"hasImage":{"type":"boolean","default":true},"hasCount":{"type":"boolean","default":true},"layout":{"type":"number","default":1},"wrapper":{"type":"object","default":{}},"item":{"type":"object","default":{}},"image":{"type":"object","default":{}},"title":{"type":"object","default":{}},"description":{"type":"object","default":{}},"reviewCount":{"type":"object","default":{}},"saleTag":{"type":"object","default":{}},"discount":{"type":"object","default":{}},"regularPrice":{"type":"object","default":{}},"salePrice":{"type":"object","default":{}},"rating":{"type":"object","default":{}},"categories":{"type":"object","default":{}},"addToCart":{"type":"object","default":{}}},"opSettings":{"item":{"group":"design","selector":".product-item","label":"Content","fields":{"spacing":{"margin":true,"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"mediaWrapperImg":{"group":"design","selector":".product-item-image img","label":"Image","fields":{"spacing":{"margin":true,"padding":true},"dimension":{"height":true,"width":true},"border":{"border":true,"borderRadius":true},"image":true}},"title":{"group":"design","selector":".product-item-title h4","label":"Title","fields":{"spacing":{"padding":true},"color":{"text":true},"border":{"border":true,"borderRadius":true},"typography":true}},"description":{"group":"design","selector":".product-item-description","label":"Products Description","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"regularPrice":{"group":"design","selector":".product-item-price .product-item-price","label":"Price","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"categories":{"group":"design","selector":".product-item-category-list a","label":"Categories","fields":{"spacing":{"padding":true},"color":{"text":true},"border":{"border":true,"borderRadius":true},"typography":true}},"discount":{"group":"design","selector":".product-item-inner .op-discount","label":"Discount","fields":{"spacing":{"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true},"typography":true}},"saleTag":{"group":"design","selector":".product-item-inner .op-onsale","label":"Sale Tag","fields":{"spacing":{"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true},"typography":true}},"ratings":{"group":"design","selector":".product-item-rating","label":"Ratings","fields":{"spacing":{"padding":true},"color":{"text":true},"border":{"border":true,"borderRadius":true},"typography":true}},"reviewCount":{"group":"design","selector":".product-item-reviews-count","label":"Reviews count","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"addToCart":{"group":"design","selector":".op-add_to_cart","label":"Add to cart","fields":{"spacing":{"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true},"typography":true}}},"viewScriptModule":["omnipress/woogrid"],"textdomain":"omnipress","keywords":["woocommerce","woo","category","products"]}');function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=O.name;O.opSettings;const C=k(k({name:P,edit:function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,s=e.children,l=t.blockId,u=t.rows,g=t.category,m=t.sortType,b=t.sortOrder,f=t.offset,h=(0,n.useBlockProps)({className:"op-block op-block-".concat(l," op-").concat(l,"  op-block__product-list"),"data-type":"omnipress/product-list"}),j=(0,i.useMemo)((function(){if(m||b||g){var e={per_page:u||3,offset:f||0,page:1};return m&&Object.assign(e,{orderby:null!=m?m:""}),b&&Object.assign(e,{order:null!=b?b:"asc"}),g&&Object.assign(e,{category:g||""}),e}return{per_page:u||3,page:1,offset:f||0}}),[m,u,g,b,f]),_=(0,d.st)("/wc/store/v1/products",j),x=_.data,O=_.error,N=(_.loading,(0,p.jsxs)(n.BlockControls,{children:[(0,p.jsx)(c.ToolbarGroup,{children:(0,p.jsx)(c.ToolbarButton,{icon:(0,p.jsx)(a.AI$,{}),label:"Settings",onClick:function(){r({isSettingsOpen:!t.isSettingsOpen})}})}),(0,p.jsx)(y,{clientId:o,attributes:t,setAttributes:r})]}));return O?(0,p.jsx)("div",v(v({},h),{},{children:(0,p.jsx)("p",{children:O.message})})):(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",v(v({},h),{},{children:[s,(0,p.jsx)("div",{className:"op-block__product-list-wrapper",children:(0,p.jsx)("ul",{className:"op-block__product-list-products",children:x.map((function(e){return(0,p.jsx)(w,{toggle:t.toggle,productItem:e},e.id)}))})}),N]}))})},save:function(){return null}},O),{},{icon:s.KC,category:"omnipress-woo"})},7438:(e,t,r)=>{r.d(t,{mo:()=>j,ho:()=>y,u8:()=>c});var o=r(6427),s=r(6087),i=r(7723),a=r(790),n=[{id:12,label:"Default sorting",value:"menu_order,ASC"},{id:1,label:"Popularity",value:"popularity,ASC"},{id:2,label:"Average ratings",value:"rating,ASC"},{id:3,label:"Latest",value:"date,DESC"},{id:4,label:"Price: low to high",value:"price,ASC"},{id:14,label:"Sort By Slug",value:"slug,ASC"},{id:5,label:"Price: high to low",value:"price,DESC"}],c=(0,s.memo)((0,s.forwardRef)((function(e,t){var r=e.onChange,s=e.value;return(0,a.jsxs)("div",{className:"op-woo-order__settings op-flex op-flex-col op-gap-2",children:[(0,a.jsx)("h2",{className:"op-woo-order__settings-title op-heading mb-15",children:(0,i.__)("Sort By:","omnipress")}),(0,a.jsx)(o.SelectControl,{name:"megamenu-sort",ref:t,onChange:function(e){return r(e)},value:s,options:n})]})})));r(9280),r(281);var l=r(6942),d=r.n(l),u=r(4263),p=r(6710),g=function(e){var t=e.split("."),r=[];if(0!=+e){for(var o=0;o<+t[0];o++)r.push((0,a.jsx)(u.T4g,{}));+t[1]>5?r.push((0,a.jsx)(u.T4g,{})):r.push((0,a.jsx)(p.vOy,{}))}else r=[(0,a.jsx)(u.b_i,{}),(0,a.jsx)(u.b_i,{}),(0,a.jsx)(u.b_i,{}),(0,a.jsx)(u.b_i,{}),(0,a.jsx)(u.b_i,{})];return r};function m(e){var t,r,o,s=e.attributes,i=(e.setAttributes,e.singleProd),n=e.className,c=(i.id,i.regular_price,i.sale_price,i.currency_symbol,i.permalink,i.add_to_cart,i.thumbnail),l=i.is_on_sale,u=i.name,p=i.images,m=i.average_rating,b=(i.review_count,i.type,i.discount_percentage),f=i.price_html,h=i.is_in_stock,j=s.toggle,_=j.image,y=j.title,x=j.ratings,v=(j.price,j.regularPrice,j.discountPercent,j.addToCart),w=j.badge,O=d()("op-product-item op-woo__card ".concat(n));return(0,a.jsx)("div",{className:O,children:(0,a.jsxs)("div",{className:"op-product-item__content",children:[_&&(0,a.jsxs)("figure",{className:"op-product-item__media op-woo__media-wrapper",children:[c?(0,a.jsx)("div",{className:"op-product-link",dangerouslySetInnerHTML:{__html:p[1]?"".concat(c,' <img alt="').concat(p[1].alt,'" src="').concat(null===(t=p[0])||void 0===t?void 0:t.src,'" class="op-product-thumbnail op-woo__media-wrapper-img" />'):c}}):(0,a.jsx)("div",{className:"op-product-link",children:(0,a.jsx)("img",{src:null!==(r=null===(o=p[0])||void 0===o?void 0:o.src)&&void 0!==r?r:"../assets/images/placeholder_category.webp",className:"op-product-thumbnail op-woo__media-wrapper-img",alt:u,loading:"lazy"})}),l&&w?(0,a.jsx)("div",{className:"op-product-item__onsale-badge",children:(0,a.jsxs)("span",{className:"onsale-badge-default op-woo__sale",children:[" ","Sale"," "]})}):"",!h&&w?(0,a.jsx)("div",{className:"op-product-item__stock-alert-badge op-woo__outstock",children:(0,a.jsxs)("span",{className:"out-of-stock-badge-default op-woo__out-of-stock",children:[" ","Out of stock"," "]})}):"",v&&h&&(0,a.jsx)("div",{className:"op-product-item__add-to-cart",children:(0,a.jsxs)("button",{type:"button",className:"op-woo__add-to-cart",children:[(0,a.jsx)("span",{children:(0,a.jsx)("i",{className:"fas fa-cart-shopping"})}),"Add to cart"]})})]}),(0,a.jsxs)("div",{className:"op-product-item__details op-woo__content",children:[y&&(0,a.jsx)("h3",{dangerouslySetInnerHTML:{__html:u},className:"op-product-loop-title op-woo__title"}),x&&(0,a.jsxs)("div",{className:"op-product__rating-wrapper op-woo__ratings",children:[g(m).map((function(e,t){return(0,a.jsx)("span",{style:{cursor:"pointer"},children:e},t)})),(0,a.jsx)("span",{style:{marginLeft:"10px"},children:m>0?m:""})]}),(0,a.jsx)("div",{className:"op-product-rating"}),(0,a.jsxs)("div",{className:"op-product-price",children:[(0,a.jsx)("div",{className:"price",dangerouslySetInnerHTML:{__html:f}}),0!==b&&(0,a.jsxs)("span",{className:"discount op-woo__discount",children:["-",b,"%"]})]})]})]})})}var b=r(3453),f=r(7143),h=r(3582),j=(0,s.memo)((function(e){var t=e.onChange,r=e.value,n=e.args,c=(0,s.useState)(!1),l=(0,b.A)(c,2),d=l[0],u=l[1],p=function(e){var t=(0,f.useSelect)((function(t){var r,o=t(h.store),s=o.getEntityRecords,i=o.hasFinishedResolution;return{categories:null!==(r=s("taxonomy","product_cat",e))&&void 0!==r?r:[],isLoading:!i("getEntityRecords",["taxonomy","product_cat",e])}}),[e]);return{categories:t.categories,isLoading:t.isLoading}}(n),g=p.categories;return p.isLoading,(0,s.useEffect)((function(){g&&u(!1)}),[g]),(0,a.jsx)("div",{className:"op-woo__category-list",children:d?(0,a.jsx)(o.Spinner,{}):(0,a.jsxs)("div",{className:"op-woo__category-wrapper op-flex op-flex-col op-gap-2",children:[(0,a.jsx)("h2",{className:"op-heading op-woo__category-title mb-15",children:(0,i.__)("Categories:","omnipress")}),(0,a.jsx)(o.SelectControl,{name:"op-woo__category-names",onChange:t,value:r,id:"op-woo__category-select-control",options:g.map((function(e){return{label:e.name,value:e.id}}))})]})})})),_=r(4467);function y(e){var t=e.attributes,r=e.setAttributes,s=(e.columns,e.products),i=(e.offset,e.isLoading),n=e.layout,c=(e.hasError,e.context);if(s){var l=d()((0,_.A)((0,_.A)({},"swiper swiper-".concat(t.blockId),t.carousel),"op-block-product-grid",!t.carousel)),u=d()("op-woo__grid-wrapper op-grid-col-".concat(t.columns," op-grid-col-").concat(t.mdColumns,"-md op-grid-col-").concat(t.smColumns,"-sm"));return"swiper-slide"===c.classNames?(0,a.jsx)(a.Fragment,{children:s&&s.map((function(e,o){return(0,a.jsx)(m,{attributes:t,singleProd:e,setAttributes:r,layout:n,className:"swiper-slide"},e.id||o)}))}):(0,a.jsx)("div",{id:"op-grid-".concat(t.blockId),className:l,children:(0,a.jsx)("div",{className:u,children:i?(0,a.jsx)(o.Spinner,{}):s&&s.map((function(e,o){return(0,a.jsx)(m,{attributes:t,singleProd:e,setAttributes:r,layout:n},e.id||o)}))})})}}}}]);