"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[361],{4819:(e,t,o)=>{o.r(t),o.d(t,{default:()=>P});var r=o(4467),s=o(42),a=o(7438),n=o(1821),i=o(4715),c=o(4997),l=o(7143),u=o(6087),p=o(2619),d=o(7723),g=o(6427),m=o(8943),b=o(4182),f=o(2690);const y=JSON.parse('{"y":{"image":false,"title":false,"ratings":false,"price":false,"regularPrice":false,"discountPercent":false,"addToCart":false,"badge":false}}');var _=o(790);function j(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?j(Object(o),!0).forEach((function(t){(0,r.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):j(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const x=(0,u.memo)((function(e){var t=e.attributes,o=e.setAttributes,s=e.clientId,n=(0,f.k)(),i=t.sortType,c=t.columns,l=(t.rows,t.offset),p=(t.order,t.orderby,t.smColumns),j=t.mdColumns,x=(0,u.useCallback)((function(e){o({sortType:e})}),[i]),w=(0,u.useMemo)((function(){var e=(0,m.I)("columns",n);return{columnsCount:t[e],columnsCountPropertyName:e}}),[n,c,p,j]),v=w.columnsCount,O=w.columnsCountPropertyName;return(0,_.jsxs)(b.G,{clientId:s,group:"general",children:[(0,_.jsxs)(g.PanelBody,{title:(0,d.__)("Content","omnipress"),children:[(0,_.jsxs)("div",{className:"op-flex op-flex-col op-gap-2",children:[(0,_.jsx)(a.mo,{onChange:function(e){o({category:e})},value:t.category,url:"/omnipress/v1/categories"}),(0,_.jsx)(a.u8,{value:i,onChange:x})]}),(0,_.jsxs)(m.j,{children:[(0,_.jsx)(g.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,max:12,min:1,label:(0,d.__)("Per Page","omnipress"),value:t.perPage,onChange:function(e){o({perPage:e})}}),(0,_.jsx)(g.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,min:0,max:6,label:"Offset",onChange:function(e){return o({offset:e})},value:l||0}),(0,_.jsx)(f.Qg,{label:"Columns"}),(0,_.jsx)(g.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,max:12,min:1,label:(0,d.__)("","omnipress"),value:v,onChange:function(e){o((0,r.A)({},O,e))}}),(0,_.jsxs)("div",{className:"op-flex op-items-start op-justify-between op-gap-3 !op-mt-4",children:[(0,_.jsx)("div",{className:"op-flex-grow",children:(0,_.jsx)(m.fN,{attributes:t,setAttributes:o,label:"Column Gap",min:0,max:150,attributeObj:"grid",propertyName:"columnGap"})}),(0,_.jsx)("div",{className:"op-flex-grow",children:(0,_.jsx)(m.fN,{label:"Row Gap",attributes:t,setAttributes:o,min:0,max:150,attributeObj:"grid",propertyName:"rowGap"})})]})]})]}),(0,_.jsx)(g.PanelBody,{title:(0,d.__)("Toggle Content"),initialOpen:!1,children:(0,_.jsx)(m.j,{children:Object.keys(y.y).map((function(e){var s=e.charAt(0).toUpperCase()+e.slice(1);return(0,_.jsx)(m.T_,{checked:t.toggle[e],label:s,onChange:function(){o({toggle:h(h({},t.toggle),{},(0,r.A)({},e,!t.toggle[e]))})}},e)}))})})]})}));function w(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?w(Object(o),!0).forEach((function(t){(0,r.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function O(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function C(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?O(Object(o),!0).forEach((function(t){(0,r.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):O(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}wp.blocks.getCategories().some((function(e){return"woocommerce"===e.slug})),(0,p.addAction)("omnipress.block.registered.woogrid","omnipress",(function(){(0,c.registerBlockVariation)("omnipress/slider",{name:"product_carousel",title:(0,d.__)("Products Carousel","omnipress"),description:(0,d.__)("Products carousel."),attributes:{sliderType:"product_carousel",slidePerView:4},scope:["inserter"],innerBlocks:[["omnipress/woogrid",{}]],isActive:function(e){return"product_carousel"===e.sliderType},icon:s.Dk,category:"omnipress-woo",templateLock:"all"})}));const P=C(C({edit:function(e){var t=e.attributes,o=e.setAttributes,r=e.clientId,s=e.context,c=e.children,p=t.blockId,d=t.rows,g=t.columns,m=t.sortType,b=t.category,f=t.offset,y=t.columnGap,j=t.smColumnGap,h=t.mdColumnGap,w=t.rowGap,O=t.mdRowGap,C=t.smRowGap,P=t.perPage,N=(0,u.useMemo)((function(){var e={};return y&&(e["--op-layout-column-gap"]="".concat(y,"px")),j&&(e["--op-layout-column-gap-sm"]="".concat(j,"px")),h&&(e["--op-layout-column-gap-md"]="".concat(h,"px")),w&&(e["--op-layout-row-gap"]="".concat(w,"px")),C&&(e["--op-layout-row-gap-sm"]="".concat(C,"px")),O&&(e["--op-layout-row-gap-md"]="".concat(O,"px")),e}),[y,j,h,w,C,O]),k=(0,i.useBlockProps)({className:"op-woo-grid-".concat(p||""," op-").concat(p||""),"data-type":"omnipress/product-grid",style:N}),S=(0,u.useMemo)((function(){t.rows&&o({perPage:t.rows*t.columns,rows:void 0});var e={posts_per_page:P||6,offset:f||0};if(m){var r,s=m.split(",");Object.assign(e,{orderby:null!==(r=s[0].trim())&&void 0!==r?r:"date",order:s[1]?s[1].trim():"desc"})}return b&&Object.assign(e,{category:b}),e}),[m,d,g,b,P]),A=((0,l.useSelect)((function(e){return(0,e("core").getEntityRecords)("postType","product",S)}),[S]),(0,n.A)("/omnipress/v1/wc/products",S)),T=A.data,D=A.error,R=A.loading;return"swiper-slide"===s.classNames?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(a.ho,{columns:g,attributes:t,setAttributes:o,products:T,offset:f,isLoading:R,hasError:D,layout:t.layout,context:s}),(0,_.jsx)(x,{clientId:r,attributes:t,setAttributes:o})]}):(0,_.jsxs)("div",v(v({},k),{},{children:[c,(0,_.jsx)(a.ho,{columns:g,attributes:t,setAttributes:o,products:T,offset:f,isLoading:R,hasError:D,layout:t.layout,context:s}),(0,_.jsx)(x,{clientId:r,attributes:t,setAttributes:o})]}))},save:function(){return null}},JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/woogrid","version":"1.0.0","title":"Products Grid","category":"omnipress-woo","icon":"","description":"Display WooCommerce products in a grid layout","supports":{"anchor":true},"attributes":{"blockId":{"type":"string"},"carousel":{"type":"boolean","default":false},"options":{"type":"string","default":"arrow"},"arrowNext":{"type":"string","default":"fa fa-angle-right"},"arrowPrev":{"type":"string","default":"fa fa-angle-left"},"layout":{"type":"string"},"toggle":{"type":"object","default":{"title":true,"image":true,"addToCart":true,"price":true,"regularPrice":true,"badge":true,"ratings":true,"discountPercent":true}},"rows":{"type":"number"},"offset":{"type":"number","default":0},"columns":{"type":"number","default":3},"mdColumns":{"type":"number","default":3},"smColumns":{"type":"number","default":2},"perPage":{"type":"number","default":6},"grid":{"type":"object","default":{}},"orderBy":{"type":"string","default":"popularity"},"category":{"type":"string"},"gridWrapper":{"type":"object","default":{}},"mediaWrapper":{"type":"object","default":{}},"mediaWrapperImg":{"type":"object","default":{}},"card":{"type":"object","default":{}},"title":{"type":"object","default":{}},"price":{"type":"object","default":{}},"sale":{"type":"object","default":{}},"discountedPrice":{"type":"object","default":{}},"discount":{"type":"object","default":{}},"ratings":{"type":"object","default":{}},"addToCart":{"type":"object","default":{}},"sortType":{"type":"string"},"content":{"type":"object","default":{}},"outstock":{"type":"object","default":{}}},"opSettings":{"content":{"group":"design","selector":".op-product-item__details.op-woo__content","label":"Content","fields":{"spacing":{"margin":true,"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"grid":{"group":"design","selector":"[class*=\'op-grid-col\']","label":"Content","fields":{}},"mediaWrapperImg":{"group":"design","selector":".op-woo__media-wrapper-img","label":"Image","fields":{"spacing":{"margin":true,"padding":true},"dimension":{"height":true,"width":true},"border":{"border":true,"borderRadius":true},"image":true}},"title":{"group":"design","selector":".op-woo__card .op-woo__title","label":"Title","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"discount":{"group":"design","selector":".op-woo__discount","label":"Discount","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"ratings":{"group":"design","selector":".op-woo__ratings","label":"Ratings","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"addToCart":{"group":"design","selector":".op-woo__add-to-cart","label":"Add to cart","fields":{"spacing":{"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true},"typography":true}},"outstock":{"group":"design","selector":".op-woo__outstock","label":"Out of stock","fields":{"spacing":{"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true},"typography":true}},"sale":{"group":"design","selector":".op-woo__sale","label":"Sale Tag","fields":{"spacing":{"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true},"typography":true}}},"viewScriptModule":["omnipress/woogrid"],"usesContext":["classNames"],"textdomain":"product_grid","style":["omnipress/block/layout"],"keywords":["grid","layout","woogrid","woo","woo Layout"]}')),{},{icon:s.cR})},7438:(e,t,o)=>{o.d(t,{mo:()=>_,ho:()=>h,u8:()=>c});var r=o(6427),s=o(6087),a=o(7723),n=o(790),i=[{id:12,label:"Default sorting",value:"menu_order,ASC"},{id:1,label:"Popularity",value:"popularity,ASC"},{id:2,label:"Average ratings",value:"rating,ASC"},{id:3,label:"Latest",value:"date,DESC"},{id:4,label:"Price: low to high",value:"price,ASC"},{id:14,label:"Sort By Slug",value:"slug,ASC"},{id:5,label:"Price: high to low",value:"price,DESC"}],c=(0,s.memo)((0,s.forwardRef)((function(e,t){var o=e.onChange,s=e.value;return(0,n.jsxs)("div",{className:"op-woo-order__settings op-flex op-flex-col op-gap-2",children:[(0,n.jsx)("h2",{className:"op-woo-order__settings-title op-heading mb-15",children:(0,a.__)("Sort By:","omnipress")}),(0,n.jsx)(r.SelectControl,{name:"megamenu-sort",ref:t,onChange:function(e){return o(e)},value:s,options:i})]})})));o(9280),o(281);var l=o(6942),u=o.n(l),p=o(4263),d=o(6710),g=function(e){var t=e.split("."),o=[];if(0!=+e){for(var r=0;r<+t[0];r++)o.push((0,n.jsx)(p.T4g,{}));+t[1]>5?o.push((0,n.jsx)(p.T4g,{})):o.push((0,n.jsx)(d.vOy,{}))}else o=[(0,n.jsx)(p.b_i,{}),(0,n.jsx)(p.b_i,{}),(0,n.jsx)(p.b_i,{}),(0,n.jsx)(p.b_i,{}),(0,n.jsx)(p.b_i,{})];return o};function m(e){var t,o,r,s=e.attributes,a=(e.setAttributes,e.singleProd),i=e.className,c=(a.id,a.regular_price,a.sale_price,a.currency_symbol,a.permalink,a.add_to_cart,a.thumbnail),l=a.is_on_sale,p=a.name,d=a.images,m=a.average_rating,b=(a.review_count,a.type,a.discount_percentage),f=a.price_html,y=a.is_in_stock,_=s.toggle,j=_.image,h=_.title,x=_.ratings,w=(_.price,_.regularPrice,_.discountPercent,_.addToCart),v=_.badge,O=u()("op-product-item op-woo__card ".concat(i));return(0,n.jsx)("div",{className:O,children:(0,n.jsxs)("div",{className:"op-product-item__content",children:[j&&(0,n.jsxs)("figure",{className:"op-product-item__media op-woo__media-wrapper",children:[c?(0,n.jsx)("div",{className:"op-product-link",dangerouslySetInnerHTML:{__html:d[1]?"".concat(c,' <img alt="').concat(d[1].alt,'" src="').concat(null===(t=d[0])||void 0===t?void 0:t.src,'" class="op-product-thumbnail op-woo__media-wrapper-img" />'):c}}):(0,n.jsx)("div",{className:"op-product-link",children:(0,n.jsx)("img",{src:null!==(o=null===(r=d[0])||void 0===r?void 0:r.src)&&void 0!==o?o:"../assets/images/placeholder_category.webp",className:"op-product-thumbnail op-woo__media-wrapper-img",alt:p,loading:"lazy"})}),l&&v?(0,n.jsx)("div",{className:"op-product-item__onsale-badge",children:(0,n.jsxs)("span",{className:"onsale-badge-default op-woo__sale",children:[" ","Sale"," "]})}):"",!y&&v?(0,n.jsx)("div",{className:"op-product-item__stock-alert-badge op-woo__outstock",children:(0,n.jsxs)("span",{className:"out-of-stock-badge-default op-woo__out-of-stock",children:[" ","Out of stock"," "]})}):"",w&&y&&(0,n.jsx)("div",{className:"op-product-item__add-to-cart",children:(0,n.jsxs)("button",{type:"button",className:"op-woo__add-to-cart",children:[(0,n.jsx)("span",{children:(0,n.jsx)("i",{className:"fas fa-cart-shopping"})}),"Add to cart"]})})]}),(0,n.jsxs)("div",{className:"op-product-item__details op-woo__content",children:[h&&(0,n.jsx)("h3",{dangerouslySetInnerHTML:{__html:p},className:"op-product-loop-title op-woo__title"}),x&&(0,n.jsxs)("div",{className:"op-product__rating-wrapper op-woo__ratings",children:[g(m).map((function(e,t){return(0,n.jsx)("span",{style:{cursor:"pointer"},children:e},t)})),(0,n.jsx)("span",{style:{marginLeft:"10px"},children:m>0?m:""})]}),(0,n.jsx)("div",{className:"op-product-rating"}),(0,n.jsxs)("div",{className:"op-product-price",children:[(0,n.jsx)("div",{className:"price",dangerouslySetInnerHTML:{__html:f}}),0!==b&&(0,n.jsxs)("span",{className:"discount op-woo__discount",children:["-",b,"%"]})]})]})]})})}var b=o(3453),f=o(7143),y=o(3582),_=(0,s.memo)((function(e){var t=e.onChange,o=e.value,i=e.args,c=(0,s.useState)(!1),l=(0,b.A)(c,2),u=l[0],p=l[1],d=function(e){var t=(0,f.useSelect)((function(t){var o,r=t(y.store),s=r.getEntityRecords,a=r.hasFinishedResolution;return{categories:null!==(o=s("taxonomy","product_cat",e))&&void 0!==o?o:[],isLoading:!a("getEntityRecords",["taxonomy","product_cat",e])}}),[e]);return{categories:t.categories,isLoading:t.isLoading}}(i),g=d.categories;return d.isLoading,(0,s.useEffect)((function(){g&&p(!1)}),[g]),(0,n.jsx)("div",{className:"op-woo__category-list",children:u?(0,n.jsx)(r.Spinner,{}):(0,n.jsxs)("div",{className:"op-woo__category-wrapper op-flex op-flex-col op-gap-2",children:[(0,n.jsx)("h2",{className:"op-heading op-woo__category-title mb-15",children:(0,a.__)("Categories:","omnipress")}),(0,n.jsx)(r.SelectControl,{name:"op-woo__category-names",onChange:t,value:o,id:"op-woo__category-select-control",options:g.map((function(e){return{label:e.name,value:e.id}}))})]})})})),j=o(4467);function h(e){var t=e.attributes,o=e.setAttributes,s=(e.columns,e.products),a=(e.offset,e.isLoading),i=e.layout,c=(e.hasError,e.context);if(s){var l=u()((0,j.A)((0,j.A)({},"swiper swiper-".concat(t.blockId),t.carousel),"op-block-product-grid",!t.carousel)),p=u()("op-woo__grid-wrapper op-grid-col-".concat(t.columns," op-grid-col-").concat(t.mdColumns,"-md op-grid-col-").concat(t.smColumns,"-sm"));return"swiper-slide"===c.classNames?(0,n.jsx)(n.Fragment,{children:s&&s.map((function(e,r){return(0,n.jsx)(m,{attributes:t,singleProd:e,setAttributes:o,layout:i,className:"swiper-slide"},e.id||r)}))}):(0,n.jsx)("div",{id:"op-grid-".concat(t.blockId),className:l,children:(0,n.jsx)("div",{className:p,children:a?(0,n.jsx)(r.Spinner,{}):s&&s.map((function(e,r){return(0,n.jsx)(m,{attributes:t,singleProd:e,setAttributes:o,layout:i},e.id||r)}))})})}}}}]);