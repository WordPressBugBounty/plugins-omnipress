"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[2],{6045:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var o=r(4467),i=r(3986),a=r(42),n=r(7143),s=r(6427),l=r(5476),d=r(3582),c=r(8443),u=r(7723),p=r(653),g=[],b=r(790);const m=function(e){var t,r,o,i,a,m=e.featuredMedia,h=e.title,y=e.description,f=e.date,v=e.authorId,j=e.id,x=e.attributes,k=e.className,_=new Date(f);if((0,c.dateI18n)("F j, Y",_),!j)return(0,b.jsx)("p",{children:(0,u.__)("Post Not Found","omnipress")});var O=(0,n.useSelect)((function(e){var t,r,o=e(d.store),i=o.getTaxonomy,a=o.getUser,n=o.getMedia,s=i("category");return{term:null!=s&&null!==(t=s.visibility)&&void 0!==t&&t.publicly_queryable?s:{},user:a(v),thumbnail:null===(r=n(m))||void 0===r||null===(r=r.media_details)||void 0===r||null===(r=r.sizes)||void 0===r||null===(r=r.thumbnail)||void 0===r?void 0:r.source_url}}),[]),A=O.term,P=O.user,N=O.thumbnail,w=function(e){var t,r=e.postId,o=e.term,i=o.slug;return(0,n.useSelect)((function(e){var t;if(!(null==o||null===(t=o.visibility)||void 0===t?void 0:t.publicly_queryable))return{postTerms:g,isLoading:!1,hasPostTerms:!1};var a=e(d.store),n=a.getEntityRecords,s=a.isResolving,l=["taxonomy",i,{post:r,per_page:-1,context:"view"}],c=n.apply(void 0,l);return{postTerms:c,isLoading:s("getEntityRecords",l),hasPostTerms:!(null==c||!c.length)}}),[r,null==o||null===(t=o.visibility)||void 0===t?void 0:t.publicly_queryable,i])}({postId:j,term:A}),I=w.postTerms,C=w.hasPostTerms;return w.isLoading?(0,b.jsx)(s.Spinner,{}):(0,b.jsxs)("div",{className:"op-block__post-grid-card  ".concat(k),children:[(0,b.jsxs)("div",{className:"op-block__post-grid-card-image",children:[(0,b.jsx)("div",{className:"op-block__post-grid-card-categories",children:!(null!==(t=x.hiddenFields)&&void 0!==t&&t.includes("categories"))&&C&&I&&(0,b.jsx)(p.LJ,{className:"op-block__post-grid-card-categories",categories:I})}),N&&!(null!==(r=x.hiddenFields)&&void 0!==r&&r.includes("thumbnail"))&&(0,b.jsx)(p.Vz,{className:"op-block__post-grid-card-thumbnail",thumbnailUrl:N,altText:h})]}),(0,b.jsxs)("div",{className:"op-block__post-grid-card-content",children:[(0,b.jsxs)("div",{className:"op-block__post-grid-card-meta",children:[!x.hiddenFields.includes("date")&&(0,b.jsx)(p.rK,{className:"op-block__post-grid-card-date",date:f}),!(null!==(o=x.hiddenFields)&&void 0!==o&&o.includes("author"))&&(0,b.jsx)(l.A,{className:"op-block__post-grid-card-author",author:P&&P.name||"",prefix:(0,u.__)("By","omnipress")})]}),!(null!==(i=x.hiddenFields)&&void 0!==i&&i.includes("title"))&&(0,b.jsx)(p.hE,{className:"op-block__post-grid-card-title",title:h}),!(null!==(a=x.hiddenFields)&&void 0!==a&&a.includes("excerpt"))&&(0,b.jsx)(p.Ie,{className:"op-block__post-grid-card-description",excerpt:y})]})]})};var h=r(3453),y=r(9394),f=r(8943),v=r(4182),j=r(9043),x=(r(4715),r(6087)),k=(r(8209),[{label:"Category",key:"categories"},{label:"Author",key:"author"},{label:"Date",key:"date"},{label:"Title",key:"title"},{label:"Excerpt",key:"excerpt"},{label:"Thumbnail Image",key:"thumbnail"}]),_=[{label:(0,u.__)("Enable link for Title","omnipress"),attribute:"title"},{label:(0,u.__)("Enable link for Thumbnail","omnipress"),attribute:"thumbnail"},{label:(0,u.__)("Enable link for Date","omnipress"),attribute:"date"},{label:(0,u.__)("Enable link for Author","omnipress"),attribute:"author"}],O=(0,x.memo)((function(e){var t,r=e.attributes,o=e.setAttributes,i=(0,x.useState)([]),a=(0,h.A)(i,2),l=a[0],d=a[1],c=(0,x.useState)([]),u=(0,h.A)(c,2),p=u[0],g=u[1];(0,n.useSelect)((function(e){var t,r=e("core").getEntityRecords("taxonomy","category",{per_page:100}),o=null===(t=(0,e("core").getAuthors)())||void 0===t?void 0:t.map((function(e){return{id:e.id,name:e.name}}));g(o);var i=null==r?void 0:r.map((function(e){return{id:e.id,name:e.name,parent:e.parent}}));d((function(){return i}))}),[]);var m=(0,j.A)("grid","gridTemplateColumns"),y=(0,h.A)(m,2),v=y[0],k=y[1];return(0,b.jsxs)(f.nM,{label:"Query",panelName:"general",initialOpen:!0,children:[(0,b.jsx)(s.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Posts Columns",max:12,min:1,value:v,onChange:k}),(0,b.jsx)(s.QueryControls,{authorList:p,categoriesList:l,numberOfItems:null!==(t=r.postPerPage)&&void 0!==t?t:6,onAuthorChange:function(e){return o({authorId:e})},onCategoryChange:function(e){return o({selectedCategoryId:e})},onNumberOfItemsChange:function(e){o({postPerPage:+e})},onOrderByChange:function(e){return o({orderby:e})},onOrderChange:function(e){return o({order:e})},order:r.order||"desc",orderBy:r.orderby||"date",selectedAuthorId:r.authorId,selectedCategoryId:r.selectedCategoryId})]})}));const A=(0,x.memo)((function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,i=t.selectedCategoryId,a=t.order,n=t.orderby,l=t.postPerPage,d=t.search,c=t.authorId,u=(0,x.useCallback)((function(e){r(e)}),[i,a,n,l,d,columns]),p=(0,x.useMemo)((function(){return t}),[i,a,n,l,d,c,columns]);return(0,b.jsxs)(v.G,{clientId:o,group:"general",children:[(0,b.jsx)(O,{attributes:p,setAttributes:u}),(0,b.jsx)(f.nM,{panelName:"thumbnail",label:"Feature Image",children:(0,b.jsxs)("div",{className:"op-flex op-flex-col op-gap-3",children:[(0,b.jsx)(f.gl,{attributeObj:"thumbnail"}),(0,b.jsx)(f.LX,{attributeObj:"thumbnail"})]})}),(0,b.jsx)(f.nM,{showStateToggle:!1,panelName:"toggle",label:"Post Elements",children:(0,b.jsxs)("div",{className:"op-flex op-flex-col op-gap-2 op-mt-3",children:[k.map((function(e){return(0,b.jsx)(s.ToggleControl,{label:e.label,checked:!t.hiddenFields.includes(e.key),onChange:function(){t.hiddenFields.includes(e.key)?r({hiddenFields:t.hiddenFields.filter((function(t){return t!==e.key}))}):r({hiddenFields:[].concat((0,y.A)(t.hiddenFields),[e.key])})}},e.label)})),_.map((function(e){return(0,b.jsx)(s.ToggleControl,{label:e.label,checked:t.linkedAttributes.includes(e.attribute),onChange:function(){t.linkedAttributes.includes(e.attribute)?r({linkedAttributes:t.linkedAttributes.filter((function(t){return t!==e.attribute}))}):r({linkedAttributes:[].concat((0,y.A)(t.linkedAttributes),[e.attribute])})}},e.attribute)}))]})})]})}));var P=r(7881);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const I=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/post-grid","version":"1.0.0","title":"Post Grid","category":"omnipress","icon":"","description":"Display interactive blog in a grid layout","supports":{"anchor":true},"opSettings":{"card":{"group":"design","selector":".op-block__post-grid-card","label":"card","fields":{"color":{"background":true},"dimension":{"width":true,"height":true},"spacing":{"padding":true,"margin":true},"border":{"border":true,"borderRadius":true}}},"grid":{"group":"design","selector":".is-layout-grid","label":"","fields":{}},"thumbnail":{"group":"design","selector":".op-block__post-grid-card figure","label":"Image","fields":{"dimension":{"width":true,"height":true},"spacing":{"margin":true},"border":{"border":true,"borderRadius":true}}},"content":{"group":"design","selector":".op-block__post-grid-card-content","label":"Content","fields":{"spacing":{"margin":true,"padding":true}}},"title":{"group":"design","selector":" .op-block__post-grid-card-title","label":"Title","fields":{"spacing":{"padding":true,"margin":true},"typography":true}},"excerpt":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-description","label":"Excerpt","fields":{"color":{"background":true},"spacing":{"padding":true,"margin":true},"typography":true}},"categories":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-categories a","label":"Categories","fields":{"color":{"background":true},"spacing":{"padding":true},"typography":true,"border":{"border":true,"borderRadius":true}}},"categoriesWrapper":{"group":"design","selector":".op-block__post-grid-card-categories","label":"Categories Wrapper","fields":{"dimension":{"gap":true}}},"date":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-date","label":"Date","fields":{"color":{"background":true},"spacing":{"margin":true},"typography":true}},"author":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-author a","label":"Author","fields":{"spacing":{"margin":true},"typography":true}}},"attributes":{"linkedAttributes":{"type":"array","default":["title","categories","author"]},"blockId":{"type":"string","default":""},"columns":{"type":"number","default":3},"categories":{"type":"object","default":{"borderRadius":"7px","backgroundColor":"var(--op-clr-block-primary)","color":"#ffffff","padding":"0 12px"}},"selectedCategoryId":{"type":"string","default":""},"authorId":{"type":"number","default":0},"postPerPage":{"type":"number"},"isHandPicked":{"type":"boolean","default":false},"orderby":{"type":"string","default":"date"},"order":{"type":"string","default":"desc"},"search":{"type":"string"},"wrapper":{"type":"object","default":{}},"disableAuthor":{"type":"boolean","default":false},"card":{"type":"object","default":{"backgroundColor":"#dbdbdb","borderRadius":"8px 8px 8px 8px"}},"content":{"type":"object","default":{"padding":"12px"}},"thumbnail":{"type":"object","default":{"borderRadius":"8px 8px 0 0","aspectRatio":"4/3"}}},"textdomain":"omnipress","keywords":["woocommerce","woo","category","products"],"style":["omnipress/block/layout"]}');function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=I.name,E=I.opSettings;const D=T(T({name:S,edit:function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,i=e.isSelected,a=t.selectedCategoryId,l=t.search,c=t.order,u=t.postPerPage,p=t.orderby,g=t.authorId,h=(0,n.useSelect)((function(){var e=function(){var e=arguments.length>3?arguments[3]:void 0,t=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,o={order:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desc",orderby:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",per_page:(arguments.length>2?arguments[2]:void 0)||6};return r&&(o.author=r),e&&(o.categories=e),t&&(o.search=t),o}(c,p,u,a,l,g),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",r=(0,n.select)(d.store),o=r.getEntityRecords,i=r.isResolving;return{posts:o("postType",t,e),isResolving:i("core","getEntityRecords",["postType","post"])}}(e);return t}),[c,p,u,a,l,g]),y=h.posts;return h.isResolving?(0,b.jsx)(s.Spinner,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(P.A,w(w({className:"op-block__post-grid op-block__post-grid-card-wrap"},e),{},{children:(0,b.jsx)("div",{className:"is-layout-grid",children:y&&y.map((function(e){var r;return e&&(0,b.jsx)("div",{children:(0,b.jsx)(m,{id:e.id,featuredMedia:e.featured_media,title:e.title.rendered,description:e.excerpt.rendered,date:e.date,author:(null===(r=e.author)||void 0===r?void 0:r.name)||"Admin",content:e.content.rendered,authorId:e.author,attributes:t},e.id)})}))})})),i&&(0,b.jsx)(A,{attributes:t,setAttributes:r,clientId:o})]})},description:I.description,keywords:["posts","grid","postlist"],save:function(){return null},category:"omnipress",opSettings:E},(0,i.A)(I,["name","opSettings","description"])),{},{icon:a.Z1})},5476:(e,t,r)=>{r.d(t,{A:()=>a});var o=r(4164),i=r(790);const a=function(e){var t=e.author,r=e.prefix,a=void 0===r?"By":r,n=e.className,s=void 0===n?"":n;return(0,i.jsxs)("div",{className:(0,o.A)("post-author",s),children:[a,(0,i.jsx)("a",{className:"",onClick:function(){},children:t})]})}},1030:(e,t,r)=>{r.d(t,{LJ:()=>a,Ie:()=>n,rK:()=>l,Vz:()=>c,hE:()=>u}),r(5476);var o=r(4164),i=r(790);const a=function(e){var t=e.categories,r=e.className,a=void 0===r?"":r;return t?(0,i.jsx)("div",{className:(0,o.A)("post-categories",a),children:t.map((function(e){return(0,i.jsx)("a",{className:"post-category",href:"#",children:e.name},e.id)}))}):null},n=function(e){var t=e.excerpt,r=e.className,a=void 0===r?"":r;return(0,i.jsx)("div",{className:(0,o.A)("post-excerpt",a),dangerouslySetInnerHTML:{__html:t}})};var s=r(8443);const l=function(e){var t=e.date,r=e.className,a=void 0===r?"":r,n=new Date(t),l=(0,s.dateI18n)("F j, Y",n);return(0,i.jsx)("div",{className:(0,o.A)("post-date",a),children:l})};var d=window._omnipress;const c=function(e){var t,r=e.thumbnailUrl,a=e.altText,n=void 0===a?"Post Thumbnail":a,s=e.className,l=void 0===s?"":s;return(0,i.jsx)("figure",{className:(0,o.A)("post-thumbnail",l),children:(0,i.jsx)("img",{alt:n,src:r||(null==d||null===(t=d.urls)||void 0===t?void 0:t.omnipress)+"assets/images/placeholder.webp"})})},u=function(e){var t=e.title,r=e.tagName,a=void 0===r?"h4":r,n=e.className,s=void 0===n?"":n,l=a;return(0,i.jsx)(l,{className:(0,o.A)("post-title",s),children:(0,i.jsx)("a",{href:"",children:t})})}},7881:(e,t,r)=>{r.d(t,{A:()=>h});var o=r(4467),i=r(3986),a=r(4715),n=r(2619),s=r(6087),l=r(4987),d=r(7143),c=r(6942),u=r.n(c),p=r(790),g=["className","isSelected","context","attributes","clientId","setAttributes","tagName","children"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const h=(0,s.forwardRef)((function(e,t){var r,s,c,b,h,y,f,v=e.className,j=(e.isSelected,e.context,e.attributes),x=(e.clientId,e.setAttributes,e.tagName),k=e.children,_=(0,i.A)(e,g),O=(0,d.select)(l.n).getMouseState(),A=u()((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({},"op-".concat(j.blockId),j.blockId),"is-layout-flex","flex"===(null===(r=j.layout)||void 0===r?void 0:r.display)),"is-layout-grid","grid"===(null===(s=j.layout)||void 0===s?void 0:s.display)),"is-layout-".concat(j.layoutType),!!j.layoutType),"hover-state","hover"===O),"has-bg-video has-background-media","video"==(null===(c=j.styles)||void 0===c||null===(c=c.wrapper)||void 0===c?void 0:c.backgroundType)&&(null===(b=j.styles)||void 0===b||null===(b=b.wrapper)||void 0===b?void 0:b.backgroundVideo)),"has-bg-image has-background-media","image"==(null===(h=j.styles)||void 0===h||null===(h=h.wrapper)||void 0===h?void 0:h.backgroundType)&&(null===(y=j.styles)||void 0===y||null===(y=y.wrapper)||void 0===y?void 0:y.backgroundImage))),P=(0,a.useBlockEditContext)().name,N=x||"div",w=m(m({},(0,n.applyFilters)("omnipress.edit.props.".concat(P.split("/")[1]),{})),{},{className:"".concat(v," ").concat(A),"data-type":P,ref:t});return Boolean((null!==(f=j.tooltipText)&&void 0!==f?f:"").trim())&&(w=m(m({},w),{},{"data-tooltip":j.tooltipText})),(0,p.jsx)(N,m(m(m({},(0,a.useBlockProps)(w)),_),{},{children:k}))}))},653:(e,t,r)=>{r.d(t,{Ie:()=>i.Ie,LJ:()=>i.LJ,Vz:()=>i.Vz,hE:()=>i.hE,lU:()=>o.A,rK:()=>i.rK});var o=r(7881),i=r(1030);r(3935)}}]);