"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[419],{2419:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var o=r(4467),n=r(42),s=r(3453),i=r(7723),a=r(4715),c=r(6087),l=r(467),u=r(9280),d=r.n(u),p=r(1455),h=r.n(p),f={},g=function(){var e=(0,l.A)(d().mark((function e(){var t,r,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f[t=o.length>0&&void 0!==o[0]?o[0]:"wc/store/v1/products/categories"]){e.next=3;break}return e.abrupt("return",f[t]);case 3:return e.prev=3,e.next=6,h()({path:t,method:"GET"});case 6:return r=e.sent,f[t]=r,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),m=r(3562),b=r(9016),y=r(6427),v=(r(5107),r(4182)),j=r(790);const w=function(e){var t,r=e.attributes,o=e.setAttributes,n=e.clientId,a=(0,c.useState)([]),l=(0,s.A)(a,2),u=l[0],d=l[1];return(0,c.useEffect)((function(){var e=!0;return g().then((function(t){if(t){var r=null==t?void 0:t.map((function(e){return"".concat(e.id,"-").concat(e.slug)}));e&&d(r)}})),function(){e=!1}}),[]),(0,j.jsx)(v.G,{clientId:n,group:"general",children:(0,j.jsxs)(y.PanelBody,{title:(0,i.__)("General","omnipress"),children:[(0,j.jsxs)(b.j,{children:[(0,j.jsx)(y.SelectControl,{value:null===(t=r.layout)||void 0===t?void 0:t.toString(),label:(0,i.__)("Choose Layout","omnipress"),onChange:function(e){return o({layout:parseInt(e,10)})},options:[{label:"Layout One",value:"1"},{label:"Layout Two",value:"2"}]}),(0,j.jsx)(b.T_,{label:"Show Empty Category",checked:r.hasEmpty,onChange:function(){return o({hasEmpty:!r.hasEmpty})}}),(0,j.jsx)(b.T_,{label:"Show Count",checked:r.hasCount,onChange:function(){return o({hasCount:!r.hasCount})}}),(0,j.jsx)(b.T_,{label:"Show All Category",checked:!r.categorySelected,onChange:function(){return o({categorySelected:!r.categorySelected})}}),(0,j.jsx)(b.T_,{label:"Show Children Only",checked:r.showChildOnly,onChange:function(){return o({showChildOnly:!r.showChildOnly})}})]}),r.categorySelected&&(0,j.jsx)(b.j,{children:u.length?(0,j.jsx)(y.FormTokenField,{label:"Select Categories",__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,onChange:function(e){o({selectedCategoriesList:e})},suggestions:u,value:r.selectedCategoriesList}):"Category Not found"})]})})};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={1:function(e){var t=e.categories;return t?t.map((function(e){var t,r,o,n,s,i;return(0,j.jsxs)("div",{className:"op-woo-catlist__item",children:[(0,j.jsxs)("div",{className:"op-woo-catlist__item-title",children:[(0,j.jsx)("figure",{children:(0,j.jsx)("a",{href:"#",className:"op-woo-catlist__item-title-imglink",target:"_self",children:(0,j.jsx)("img",{width:32,height:32,className:"op-woo-catlist__item-image",src:null!==(t=null===(r=e.image)||void 0===r?void 0:r.thumbnail)&&void 0!==t?t:"".concat(null===(o=window._omnipress)||void 0===o||null===(o=o.urls)||void 0===o?void 0:o.home,"/wp-content/plugins/omnipress/assets/images/placeholder.webp"),srcSet:null===(n=e.image)||void 0===n?void 0:n.srcSet,alt:"".concat(null!==(s=e.name)&&void 0!==s?s:"Woocommerce product ","with ").concat(null!==(i=e.count)&&void 0!==i?i:0," products")})})}),(0,j.jsx)("h4",{children:(0,j.jsx)("a",{href:"#",target:"_self",children:e.name})})]}),(0,j.jsx)("a",{href:"#",className:"op-woo-catlist__item-product-count",children:(0,j.jsx)("span",{children:e.count})})]},e.id)})):null},2:function(e){var t=e.categories;return t?(0,j.jsx)(j.Fragment,{children:t.map((function(e){var t,r,o,n;return(0,j.jsxs)("div",{className:"op-woo-catlist__item",children:[(0,j.jsx)("div",{className:"op-woo-catlist__item-image",children:(0,j.jsx)("figure",{children:(0,j.jsx)("a",{href:"#",className:"op-woo-catlist__item-title-imglink",target:"_self",children:(0,j.jsx)("img",{className:"op-woo-catlist__item-image",src:null!==(t=null===(r=e.image)||void 0===r?void 0:r.thumbnail)&&void 0!==t?t:"".concat(null===(o=window._omnipress)||void 0===o||null===(o=o.urls)||void 0===o?void 0:o.home,"/wp-content/plugins/omnipress/assets/images/placeholder.webp"),srcSet:null===(n=e.image)||void 0===n?void 0:n.srcSet,alt:"".concat(e.name,"with ").concat(e.count," products")})})})}),(0,j.jsxs)("div",{className:"op-woo-catlist__item-title",children:[(0,j.jsx)("h4",{children:(0,j.jsx)("a",{href:"#",target:"_self",children:e.name})}),(0,j.jsxs)("span",{className:"op-woo-catlist__item-product-count",children:[e.count,"Products"]})]})]})}))}):null}};const C=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/woocategory-list","version":"1.0.0","title":"Products Category List","category":"omnipress-woo","icon":"","description":"Display WooCommerce product categories in a list view","supports":{"anchor":true},"attributes":{"blockId":{"type":"string"},"preset":{"type":"string","default":"one"},"hasEmpty":{"type":"boolean","default":true},"hasImage":{"type":"boolean","default":true},"hasCount":{"type":"boolean","default":true},"layout":{"type":"number","default":1},"isDropdown":{"type":"boolean","default":false},"categorySelected":{"type":"boolean","default":false},"selectedCategoriesList":{"type":"array","default":[]},"wrapper":{"type":"object","default":{}},"item":{"type":"object","default":{}},"image":{"type":"object","default":{}},"label":{"type":"object","default":{}},"count":{"type":"object","default":{}},"showChildOnly":{"type":"boolean","default":false}},"opSettings":{"item":{"group":"design","selector":".op-woo-catlist__item","label":"List Item","fields":{"spacing":{"margin":true,"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"image":{"group":"design","selector":"img.op-woo-catlist__item-image","label":"Image","fields":{"spacing":{"margin":true,"padding":true},"border":{"border":true,"borderRadius":true},"image":true}},"label":{"group":"design","selector":".op-woo-catlist__item-title h4","label":"Label","fields":{"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}},"count":{"group":"design","selector":".op-woo-catlist__item-product-count","label":"Count","fields":{"color":{"background":true},"spacing":{"padding":true},"border":{"border":true,"borderRadius":true},"typography":true}}},"textdomain":"omnipress","keywords":["woocommerce","woo","category","products"]}');function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=C.name,P=C.attributes,E=C.category;C.opSettings;const N=k(k({name:A,category:E,attributes:P,edit:function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,n=e.children,l=(0,c.useState)([]),u=(0,s.A)(l,2),d=u[0],p=u[1],h=t.blockId,f=(0,c.useState)(!1),v=(0,s.A)(f,2),_=v[0],C=v[1],S=(0,c.useState)(!1),k=(0,s.A)(S,2),A=(k[0],k[1]);(0,c.useEffect)((function(){var e=!0,r="",o=!t.categorySelected;if(o&&(r="wc/store/v1/products/categories"),t.selectedCategoriesList.length&&!o){var n,s="";null===(n=t.selectedCategoriesList)||void 0===n||n.forEach((function(e){s+="".concat(parseInt(e,10),",")})),s&&(r="wc/store/v1/products/categories?include=".concat(s))}return r?(C(!0),g(r).then((function(t){e&&Array.isArray(t)&&t.length>0&&p(t),C(!1)})).catch((function(e){return A(!0)}))):e&&(p([]),C(!1)),function(){e=!1}}),[t.categorySelected,t.selectedCategoriesList.length]);var P=(0,a.useBlockProps)({className:"op-block op-".concat(null!=h?h:"","  op-woo__catlist"),"data-type":"omnipress/product-category-list"}),E=x[t.layout];return(0,j.jsxs)(m.A,{blockName:"Products Category List",children:[(0,j.jsxs)("div",O(O({},P),{},{children:[n,(0,j.jsxs)("div",{className:"op-woo__catlist-wrapper catlist-layout-".concat(t.layout),children:[_&&(0,j.jsx)(b.t1,{}),d.length?(0,j.jsx)(E,{categories:d}):(0,j.jsx)(y.Notice,{isDismissible:!1,status:"warning",children:(0,i.__)("Categories Not selected or not Found!!","omnipress")})]})]})),(0,j.jsx)(w,{attributes:t,setAttributes:r,clientId:o})]})}},C),{},{icon:n.GM})},3562:(e,t,r)=>{r.d(t,{A:()=>f});var o=r(3029),n=r(2901),s=r(388),i=r(3954),a=r(5361),c=r(4467),l=r(6087),u=r(7723),d=r(790);const p=function(e){var t,r,o=e.errorInfo,n=e.error,s=e.blockName;return console.error(n,o),(0,d.jsxs)("details",{className:"op-block-error__handler",style:{whiteSpace:"pre-wrap"},children:[(0,d.jsx)("summary",{children:(0,u.__)("Unfortunately, The [ ".concat(s," ] Block isn't displaying correctly.."),"omnipress")}),(0,d.jsxs)("pre",{children:[(0,d.jsx)("div",{children:(0,d.jsx)("p",{children:(0,u.__)("Our team is looking into it and will update you shortly.","omnipress")})}),(0,d.jsx)("br",{}),(0,d.jsxs)("div",{className:"oaerror danger",children:[(0,d.jsx)("strong",{children:n&&(null===(t=n.toString().split("\n")[0])||void 0===t?void 0:t.split(":")[0])}),":",n&&(null===(r=n.toString().split("\n")[0])||void 0===r?void 0:r.split(":")[1])]})]})]})};function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}const f=function(e){function t(){var e,r,n,a;(0,o.A)(this,t);for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return r=this,n=t,a=[].concat(u),n=(0,i.A)(n),e=(0,s.A)(r,h()?Reflect.construct(n,a||[],(0,i.A)(r).constructor):n.apply(r,a)),(0,c.A)(e,"state",{errorMessage:"",hasError:!1,errorInfo:""}),e}return(0,a.A)(t,e),(0,n.A)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({errorMessage:e,hasError:!0,errorInfo:t})}},{key:"render",value:function(){var e=this.props,t=e.renderError,r=(e.button,e.blockName),o=this.state,n=o.errorMessage;return o.hasError?"function"==typeof t?t({errorMessage:n}):(0,d.jsx)(p,{errorInfo:this.state.errorInfo,blockName:r,error:this.state.errorMessage}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:e.status}),": ",e.statusText]}),hasError:!0}:{errorMessage:e.message,hasError:!0}}}])}(l.Component)},3029:(e,t,r)=>{function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:()=>o})},2901:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(9922);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,o.A)(n.key),n)}}function s(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},3954:(e,t,r)=>{function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}r.d(t,{A:()=>o})},5361:(e,t,r)=>{function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}r.d(t,{A:()=>n})},388:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(2284);function n(e,t){if(t&&("object"==(0,o.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}}}]);