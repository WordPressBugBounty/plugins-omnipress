"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[71],{4071:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var o=r(4467),n=r(42),s=r(467),c=r(3453),a=r(9280),i=r.n(a),l=r(3562),u=r(1455),p=r.n(u),d=r(4715),f=r(6427),b=r(6087),h=r(7723),m=r(790);const g=function(e){var t=e.forms,r=e.attributes,o=e.setAttributes,s=(0,b.useState)(""),a=(0,c.A)(s,2),i=a[0],l=a[1];return(0,m.jsxs)("div",{className:"op-form__placeholder",children:[(0,m.jsxs)("div",{className:"op-form__placeholder-label",children:[n.NY,(0,h.__)("Contact Form","omnipress")]}),(0,m.jsx)("div",{className:"op-form__placeholder-instructions",children:t.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{children:(0,h.__)("Choose one of the existing contact forms available below.","omnipress")}),(0,m.jsx)("div",{className:"op-form__placeholder-content",children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),o({selectedFormId:i})},children:[(0,m.jsxs)("select",{value:r.selectedFormId,onChange:function(e){l(e.target.value)},children:[(0,m.jsx)("option",{selected:!0,disabled:!0,value:"",children:"Contact Form 7"}),t.map((function(e){return(0,m.jsx)("option",{value:e.ID,children:e.post_title},e.ID)}))]}),(0,m.jsx)("button",{type:"submit",children:"Use Form"})]})})]}):(0,m.jsxs)("span",{className:"op-form__placeholder-instructions-warning",children:[(0,m.jsx)("strong",{children:"Contact Form 7"}),"is not installed/activated on your site. Please install and activate it first."]})})]})};var y=r(9016),j=r(4182);function v(e){var t=e.setAttributes,r=e.attributes,o=e.clientId,n=r.hasTitle,s=r.hasDescription;return(0,m.jsx)(j.G,{group:"general",clientId:o,children:(0,m.jsx)(f.PanelBody,{title:(0,h.__)("General","omnipress"),children:(0,m.jsxs)(y.j,{children:[(0,m.jsx)(y.T_,{label:"Title",checked:n,style:{marginBottom:"10px"},onChange:function(){return t({hasTitle:!n})}}),(0,m.jsx)(y.T_,{label:"Description",checked:s,style:{marginBottom:"10px"},onChange:function(){return t({hasDescription:!s})}})]})})})}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/contact-form","version":"1.0.0","title":"Contact Form","category":"omnipress","icon":"","description":"Get started with contact forms – in just a few clicks!","supports":{"anchor":true},"opSettings":{"form":{"group":"design","selector":".op-block__contact-form-wrapper form","label":"Form","fields":{"spacing":{"margin":true,"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"formHeader":{"group":"design","selector":".op-block__contact-form-header","label":"Header","fields":{"spacing":{"margin":true,"padding":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"formLabel":{"group":"design","selector":".wpcf7-form label","label":"Form Label","fields":{"spacing":{"margin":true},"color":{"text":true},"typography":true}},"formInput":{"group":"design","selector":".wpcf7 .wpcf7-form-control-wrap textarea.wpcf7-form-control, .op-block__contact-form .wpcf7 form input:not([type=file]):not([type=radio]):not([type=checkbox]):not([type=submit])","label":"Form Input","fields":{"spacing":{"margin":true,"padding":true},"color":{"text":true,"background":true},"border":{"border":true,"borderRadius":true},"typography":true}},"submitButton":{"group":"design","selector":".wpcf7 form input[type=submit]","label":"Submit Button","fields":{"spacing":{"padding":true},"color":{"text":true,"background":true},"border":{"border":true,"borderRadius":true},"typography":true}},"titleStyle":{"group":"design","selector":".op-block__contact-form-header h4","label":"Form Title","fields":{"spacing":{"padding":true},"color":{"text":true},"typography":true}},"descriptionStyle":{"group":"design","selector":".op-block__contact-form-header p","label":"Form Description","fields":{"spacing":{"margin":true,"padding":true},"color":{"text":true},"typography":true}}},"textdomain":"omnipress"}');function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const D=A(A({name:k.name,attributes:{blockId:{type:"string"},preview:{type:"boolean",default:!0},selectedFormId:{type:"string"},content:{type:"string",default:"",source:"html",selector:".content"},hasTitle:{type:"boolean",default:!0,source:"attribute",attribute:"data-has-title",selector:".op-block__contact-form-header"},hasDescription:{type:"boolean",default:!0,source:"attribute",attribute:"data-has-description",selector:".op-block__contact-form-header"},title:{type:"string",default:"Let's Get in Touch",source:"text",selector:".op-block__contact-form-header h4"},description:{type:"string",default:"We're open for any suggestion or just to have a chat.",source:"text",selector:".op-block__contact-form-header p"}},edit:function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,n=e.children,a=t.selectedFormId,u=t.content,h=t.blockId,y=t.title,j=t.description,x=t.hasTitle,_=t.hasDescription,w=(0,b.useState)([]),k=(0,c.A)(w,2),P=k[0],A=k[1],D=(0,b.useState)(!1),N=(0,c.A)(D,2),S=N[0],I=N[1];(0,b.useEffect)((function(){a&&(I(!0),(0,s.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p()({path:"omnipress/v1/forms/".concat(a)});case 3:t=e.sent,r({content:t.form_html}),I(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r({content:"Form not valid"}),I(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))())}),[a]);var T=function(){var e=(0,s.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({path:"omnipress/v1/forms"});case 2:t=e.sent,A(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){T()}),[]);var E=(0,d.useBlockProps)({className:"op-block op-".concat(h," op-block__contact-form")});return(0,m.jsxs)(l.A,{blockName:"Contact Form",children:[(0,m.jsxs)("div",O(O({},E),{},{children:[n,!a&&(0,m.jsx)(g,{forms:P,attributes:t,setAttributes:r}),(0,m.jsxs)("div",{className:"op-block__contact-form-wrapper",children:[(x||_)&&(0,m.jsxs)("div",{className:"op-block__contact-form-header",children:[x&&(0,m.jsx)(d.RichText,{tagName:"h4",value:y,placeholder:"Header for form",onChange:function(e){r({title:e})}}),_&&(0,m.jsx)(d.RichText,{description:j,tagName:"p",value:j,placeholder:"Description for form",onChange:function(e){r({description:e})}})]}),S?(0,m.jsx)(f.Spinner,{}):(0,m.jsx)("fieldset",{disabled:!0,dangerouslySetInnerHTML:{__html:u},className:"content"})]})]})),(0,m.jsx)(v,{attributes:t,setAttributes:r,clientId:o})]})},save:function(e){var t=e.attributes,r=t.content,o=t.blockId,n=t.title,s=t.description,c=t.hasTitle,a=t.hasDescription,i=d.useBlockProps.save({className:"op-block op-".concat(o," op-block__contact-form"),"data-type":"omnipress/contact-form"});return t.content?(0,m.jsx)("div",w(w({},i),{},{children:(0,m.jsxs)("div",{className:"op-block__contact-form-wrapper",children:[(a||c)&&(0,m.jsxs)("div",{"data-has-title":c,"data-has-description":a,className:"op-block__contact-form-header",children:[c&&(0,m.jsx)("h4",{children:n}),a&&(0,m.jsx)("p",{children:s})]}),(0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:r},className:"form-content"})]})})):null}},k),{},{icon:n.NY})},3562:(e,t,r)=>{r.d(t,{A:()=>b});var o=r(3029),n=r(2901),s=r(388),c=r(3954),a=r(5361),i=r(4467),l=r(6087),u=r(7723),p=r(790);const d=function(e){var t,r,o=e.errorInfo,n=e.error,s=e.blockName;return console.error(n,o),(0,p.jsxs)("details",{className:"op-block-error__handler",style:{whiteSpace:"pre-wrap"},children:[(0,p.jsx)("summary",{children:(0,u.__)("Unfortunately, The [ ".concat(s," ] Block isn't displaying correctly.."),"omnipress")}),(0,p.jsxs)("pre",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("p",{children:(0,u.__)("Our team is looking into it and will update you shortly.","omnipress")})}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:"oaerror danger",children:[(0,p.jsx)("strong",{children:n&&(null===(t=n.toString().split("\n")[0])||void 0===t?void 0:t.split(":")[0])}),":",n&&(null===(r=n.toString().split("\n")[0])||void 0===r?void 0:r.split(":")[1])]})]})]})};function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}const b=function(e){function t(){var e,r,n,a;(0,o.A)(this,t);for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return r=this,n=t,a=[].concat(u),n=(0,c.A)(n),e=(0,s.A)(r,f()?Reflect.construct(n,a||[],(0,c.A)(r).constructor):n.apply(r,a)),(0,i.A)(e,"state",{errorMessage:"",hasError:!1,errorInfo:""}),e}return(0,a.A)(t,e),(0,n.A)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({errorMessage:e,hasError:!0,errorInfo:t})}},{key:"render",value:function(){var e=this.props,t=e.renderError,r=(e.button,e.blockName),o=this.state,n=o.errorMessage;return o.hasError?"function"==typeof t?t({errorMessage:n}):(0,p.jsx)(d,{errorInfo:this.state.errorInfo,blockName:r,error:this.state.errorMessage}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("strong",{children:e.status}),": ",e.statusText]}),hasError:!0}:{errorMessage:e.message,hasError:!0}}}])}(l.Component)},3029:(e,t,r)=>{function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:()=>o})},2901:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(9922);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,o.A)(n.key),n)}}function s(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},3954:(e,t,r)=>{function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}r.d(t,{A:()=>o})},5361:(e,t,r)=>{function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}r.d(t,{A:()=>n})},388:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(2284);function n(e,t){if(t&&("object"==(0,o.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}}}]);