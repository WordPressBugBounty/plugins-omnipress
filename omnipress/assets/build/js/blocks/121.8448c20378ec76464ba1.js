"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[121],{121:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Z});var n=o(7723),r=o(42),s=o(4467),i=o(4715),p=o(6942),a=o.n(p),l=o(3453),c=o(2900),u=o(6427),d=o(6087),m=o(790);const g=function(e){var t=e.attributes,o=(0,d.useState)(!1),n=(0,l.A)(o,2),r=n[0],s=n[1],i=t.menus,p=t.menuDirection,a=t.menuButtonContent;return(0,m.jsxs)("nav",{className:"op-block__megamenu ".concat(null!=p?p:""),children:[(0,m.jsxs)("button",{onClick:function(){return s(!r)},className:"op-block__megamenu--hamburger",children:[(0,m.jsx)("i",{className:"fas fa-bars"}),"vertical"===p&&(0,m.jsx)("span",{className:"op-block__megamenu-label",children:a})]}),(r||"vertical"!==p)&&(0,m.jsx)("div",{id:"mega-menu-icons",className:"",children:(0,m.jsx)("ul",{className:"op-block__megamenu-lists ".concat(r?"active":""),children:i&&i.map((function(e){return e&&(0,m.jsx)(b,{item:e},e.title)}))})})]})};function b(e){var t=e.item,o=t.url,n=t.title,r=t.template,s=t.children,i=t.image;return(0,m.jsxs)("li",{className:"op-block__megamenu-dropdown-list-item",children:[(0,m.jsxs)("a",{className:"op-block__megamenu-dropdown-list-item--link ".concat(r?"has-template has-dropdown":""),href:o,onClick:function(e){return e.preventDefault()},children:[(0,m.jsxs)("div",{className:"op-block__megamenu-dropdown-list-item--image-wrapper",children:[i&&(0,m.jsx)("img",{src:i,alt:n,className:"op-block__megamenu-dropdown-list-item--image"}),n]}),(r||s&&s.length>0)&&(0,m.jsx)("i",{className:"fas fa-chevron-down"})]}),(r||s)&&(0,m.jsx)(x,{item:t})]})}function h(e){var t,o=e.template,n=(0,c.IU)("op-menu-templates",{include:[o]}),r=n.posts;return n.isLoading?(0,m.jsx)(u.Spinner,{}):(0,m.jsx)("ul",{children:(0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:null===(t=r[0])||void 0===t?void 0:t.content}})})}function x(e){var t=e.item,o=t.children;return t.template?(0,m.jsx)(h,{template:t.template}):(0,m.jsx)("ul",{children:o.map((function(e,t){return e&&(0,m.jsx)(b,{item:e},t)}))})}var f=o(4182),j=o(9394),y=o(3986);function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function _(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){(0,s.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function w(e){return(0,m.jsx)(u.Tooltip,_(_({delay:200,className:"op-z-10 op-w-auto op-rounded-md op-bg-[#1e1e1e] op-px-[10px] op-py-[5px] op-font-poppins op-text-base op-text-white"},e),{},{children:e.children}))}var O=o(6161),N=o(8834),k=N.bL,A=N.R6,P=N.Ke,C=o(2425),I=o(283),S=o(5504),M=o(1612),D=o(2644),T=o(9644),B=o(4004),L=o(8562),R=["menuType"];function E(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function U(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?E(Object(o),!0).forEach((function(t){(0,s.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):E(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function J(e){var t,o=e.onChange,r=e.onClose,p=e.selectedMenu,a=void 0===p?{title:"",url:"",menuType:"sibling"}:p,g=e.isAddingNew,b=void 0!==g&&g,h=(0,d.useState)(a),x=(0,l.A)(h,2),f=x[0],j=x[1],y=function(e,t){j(U(U({},f),{},(0,s.A)({},t,e)))},v=(0,c.IU)("op-menu-templates",{per_page:-1}),_=v.posts,w=v.isLoading;return(0,m.jsxs)("div",{className:"op-grid op-min-w-[300px] op-gap-3",children:[b&&(0,m.jsx)(B.Ay,{options:_,isLoading:w,defaultValue:null==a?void 0:a.template,onChange:function(e){j(U(U({},f),{},{template:e.value,title:e.label}))}}),(0,m.jsxs)("div",{className:"op-grid op-gap-2",children:[(0,m.jsx)(I.J,{className:"op-text-[12px]",children:(0,n.__)("Menu title","omnipress")}),(0,m.jsx)(u.TextControl,{value:f.title,required:!0,name:"title",onChange:function(e){y(e,"title")},className:"!op-m-0"})]}),!b&&(null==a?void 0:a.template)&&(0,m.jsxs)("div",{className:"op-my-4 op-flex op-items-center op-justify-between",children:[(0,m.jsx)(I.J,{className:"op-text-[12px]",children:(0,n.__)("Edit Template","omnipress")}),(0,m.jsx)("a",{target:"_blank",href:"".concat(null===(t=window._omnipress)||void 0===t||null===(t=t.urls)||void 0===t?void 0:t.wpDashboard,"post.php?post=").concat(null==a?void 0:a.template,"&action=edit"),rel:"noreferrer",children:(0,n.__)("Edit","omnipress")})]}),(0,m.jsx)("div",{className:"op-grid op-gap-2",children:!(null!=a&&a.template)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.J,{className:"op-text-[12px]",children:(0,n.__)("Menu URL","omnipress")}),(0,m.jsx)(u.TextControl,{value:f.url,name:"url",onChange:function(e){y(e,"url")},className:"!op-m-0"})]})}),(0,m.jsx)(i.MediaUpload,{onSelect:function(e){y(e.url,"image")},accept:"image/*",allowedTypes:["image"],render:function(e){var t=e.open;return(0,m.jsx)("button",{className:"op-block op-border op-border-dotted op-border-slate-300 op-p-2",onClick:t,children:f.image?(0,m.jsxs)("div",{className:"op-relative op-h-[100px] op-w-[100px]",children:[(0,m.jsx)(T._Au,{className:"op-absolute op-right-2 op-top-2 op-text-sm op-text-destructive group-hover:op-opacity-100",onClick:function(e){e.stopPropagation(),y(void 0,"image")}}),(0,m.jsx)("img",{className:"op-h-full op-w-full op-object-cover",alt:f.title,src:f.image})]}):(0,n.__)("Upload Image","omnipress")})}}),(0,m.jsx)(O.$,{onClick:function(){o(f,null==a?void 0:a.id),r()},className:"op-mt-4 op-h-6 op-gap-2 !op-rounded-sm op-bg-primary !op-px-3 !op-py-4 op-text-sm",children:b?(0,n.__)("Add New Menu","omnipress"):(0,n.__)("Update Menu","omnipress")})]})}const W=function(e){var t=e.attributes,o=e.setAttributes,r=t.menus,s=t.menuButtonContent,i=(0,d.useState)(!1),p=(0,l.A)(i,2),a=p[0],c=p[1],g=(0,d.useState)(null),b=(0,l.A)(g,2),h=b[0],x=b[1],f=(0,d.useState)(!1),v=(0,l.A)(f,2),_=v[0],w=v[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(u.PanelBody,{title:(0,n.__)("Menu Items","omnipress"),children:[a&&(0,m.jsx)(u.Modal,{placement:"left",onRequestClose:function(){return c(!1)},children:(0,m.jsx)(J,{selectedMenu:h,isAddingNew:_,onClose:function(){return c(!1)},onChange:function(e,t){var n,s;_?function(e,t,n){t.menuType;var s,i=U(U({},(0,y.A)(t,R)),{},{id:(0,L.A)()});if(!h)return o({menus:[].concat((0,j.A)(r),[i])}),void w(!1);h&&t&&(s=function e(t){return t.map((function(t){return t.id===n?U(U({},t),{},{children:[].concat((0,j.A)(t.children||[]),[i])}):(t.children&&(t.children=e(t.children)),t)}))}(e),o({menus:(0,j.A)(s)}),w(!1))}(r,e,t):(n=e,s=function e(t){return t.map((function(t){return t.id===n.id?U(U({},t),n):(t.children&&(t.children=e(t.children)),t)}))}(r),o({menus:s}))}},"popover")}),(0,m.jsx)(z,{menuArray:r,setSelectedMenus:x,setIsOpenPopover:c,setIsAddingNew:w,onRemoveItem:function(e,t){var n,r=!1;n=function e(o){return o.filter((function(o){return r?o:(o.id===t&&(r=!0),o.id!==t&&o.children&&!r&&(o.children=e(o.children)),o.children&&!o.children.length&&(o.children=void 0),o.id!==t)}))}(e),o({menus:(0,j.A)(n)})},menus:r}),(0,m.jsxs)(O.$,{className:"op-mt-2 op-h-6 op-gap-2 !op-rounded-sm op-bg-primary !op-px-3 !op-py-4 op-text-sm",onClick:function(){x(void 0),c(!0),w(!0)},children:[(0,m.jsx)(M.OiG,{className:"!op-text-[10px]"}),(0,n.__)("New Menu Item","omnipress")]})]}),(0,m.jsx)(u.PanelBody,{title:(0,n.__)("Menu Type","omnipress"),children:(0,m.jsxs)("div",{className:"op-space-y-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)(I.J,{className:"op-mb-3 op-block op-text-[12px]",htmlFor:"menu_title",children:(0,n.__)("Select Type","omnipress")}),(0,m.jsx)(u.SelectControl,{value:t.menuDirection,onChange:function(e){return o({menuDirection:e})},options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)(I.J,{className:"op-mb-3 op-block op-text-[12px]",htmlFor:"menu_title",children:(0,n.__)("Menu Title","omnipress")}),(0,m.jsx)(C.p,{id:"menu_title",value:s,onChange:function(e){return o({menuButtonContent:e.target.value})},className:"op-max-h-9 op-border-none"})]})]})})]})};function z(e){var t=e.menuArray,o=e.level,r=void 0===o?0:o,s=e.setSelectedMenus,i=e.setIsOpenPopover,p=e.setIsAddingNew,a=e.onRemoveItem,l=e.menus;return t&&(0,m.jsx)("div",{className:"menu-controls",children:t.map((function(e){return e&&(0,m.jsx)("div",{className:"menu-control op-relative op-mb-2 op-border-l-2 op-border-l-primary/50 op-bg-card op-duration-150 last:op-mb-0 hover:op-border-l-primary",style:{marginBottom:0===r?"10px":""},children:(0,m.jsxs)(k,{className:"op-space-y-2",children:[(0,m.jsxs)("div",{className:"op-group op-relative op-flex op-items-center op-justify-between",children:[(0,m.jsx)(I.J,{className:"op-p-3 !op-text-[12px]",children:e.title}),(0,m.jsxs)("div",{className:"op-absolute op-bottom-0 op-right-0 op-top-0 op-flex op-h-full op-items-center op-space-x-1 op-bg-primary op-px-2 op-opacity-0 group-hover:op-opacity-100",children:[(0,m.jsx)(w,{text:(0,n.__)("Edit","omnipress"),placement:"top",children:(0,m.jsx)("button",{className:"op-group op-inline-block op-h-5 op-w-5 op-cursor-pointer !op-bg-transparent op-text-sm op-text-white op-opacity-100",onClick:function(){s(e),i(!0),p(!1)},children:(0,m.jsx)(D.SG1,{className:"op-text-[13px] group-hover:op-opacity-95"})})}),(0,m.jsx)(w,{text:(0,n.__)("Submenu","omnipress"),placement:"top",children:(0,m.jsx)("button",{className:"op-group op-inline-block op-h-5 op-w-5 op-cursor-pointer !op-bg-transparent op-text-sm op-text-white op-opacity-100",onClick:function(){s(e),i(!0),p(!0)},children:(0,m.jsx)(S.wZO,{className:"op-text-sm group-hover:op-opacity-95"})})}),(0!==r||t.length>1)&&(0,m.jsx)(w,{text:(0,n.__)("Remove","omnipress"),placement:"top",children:(0,m.jsx)("button",{className:"op-group op-inline-block op-h-5 op-w-5 op-cursor-pointer !op-bg-transparent op-text-sm op-text-white op-opacity-100",onClick:function(){return a(l,e.id)},children:(0,m.jsx)(T._Au,{className:"op-text-sm op-text-white group-hover:op-opacity-95"})})}),e.children&&(0,m.jsx)(A,{asChild:!0,children:(0,m.jsxs)("button",{type:"button",className:"group op-h-5 op-w-5 !op-bg-transparent op-text-white",children:[(0,m.jsx)(S.nwe,{className:"op-text-sm op-text-white group-hover:op-opacity-95"}),(0,m.jsx)("span",{className:"sr-only",children:(0,n.__)("Toggle","omnipress")})]})})]})]}),(0,m.jsx)(P,{className:"op-space-y-2",children:e.children&&e.children.length>0&&(0,m.jsx)("div",{className:"submenu-controls op-pl-2",children:(0,m.jsx)(z,{menuArray:e.children,level:r+1,setSelectedMenus:s,setIsOpenPopover:i,setIsAddingNew:p,onRemoveItem:a,menus:l})})})]})},e.title)}))})}const G=function(e){var t=e.attributes,o=e.setAttributes,n=e.clientId;return(0,m.jsx)(f.G,{clientId:n,group:"general",children:(0,m.jsx)(W,{attributes:t,setAttributes:o})})};function F(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function q(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?F(Object(o),!0).forEach((function(t){(0,s.A)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):F(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}const H=JSON.parse('{"UU":"omnipress/megamenu","h_":"Add vertical and horizontal menu layouts with multiple setting options","t3":{"menuButton":{"group":"design","selector":".op-block__megamenu .op-block__megamenu--hamburger","label":"Menu Button","fields":{"spacing":{"margin":true,"padding":true},"color":{"text":true,"background":true},"dimension":{"gap":true,"width":true,"height":true},"border":{"border":true,"borderRadius":true},"typography":true}},"menuWrapper":{"group":"design","selector":"ul.op-block__megamenu-lists","label":"Menu Wrapper","fields":{"spacing":{"margin":true,"padding":true},"dimension":{"gap":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"subMenuWrapper":{"group":"design","selector":".op-block__megamenu .op-block__megamenu-lists li:hover > ul","label":"Submenu Wrapper","fields":{"spacing":{"margin":true,"padding":true},"dimension":{"gap":true},"color":{"background":true},"border":{"border":true,"borderRadius":true}}},"dropdown":{"selector":".op-block__megamenu .op-block__megamenu-lists li:hover > ul"},"menuList":{"group":"design","selector":".op-block__megamenu-dropdown-list-item--link","label":"Menu Lists","fields":{"spacing":{"margin":true,"padding":true},"color":{"background":true},"dimension":{"gap":true},"typography":true,"border":{"border":true,"borderRadius":true}}},"menuListImage":{"group":"design","selector":".op-block__megamenu-dropdown-list-item--image","label":"Menu Item Image","fields":{"spacing":{"padding":true},"color":{"text":true,"background":true},"typography":true,"border":{"border":true,"borderRadius":true}}}}}');var V=H.UU,$=H.h_,K=H.t3;const Z={name:V,title:(0,n.__)("Mega Menu","omnipress"),description:$,supports:{styles:!1},example:{attributes:{menu:{padding:{top:"80px",right:"80px",bottom:"80px",left:"80px"},background:"#295fff"},menuList:{backgroundColor:"#7dd449",Border:{topLeft:{radius:"22px"},topRight:{radius:"22px"},bottomLeft:{radius:"22px"},bottomRight:{radius:"22px"}},fontSize:"1.85rem",padding:{right:"32px",left:"32px"}},menuButton:{Border:{topLeft:{radius:"px"},topRight:{radius:"px"},bottomLeft:{radius:"px"},bottomRight:{radius:"px"}}}}},attributes:{menu:{type:"object",default:{}},menuList:{type:"object",default:{}},menuGap:{type:"object"},menus:{type:"array",default:[{id:"1",title:"Example Menu 1",url:"#",image:""}]},menuButtonContent:{type:"string",default:"All"},menuDirection:{type:"string",default:"vertical"},menuButton:{type:"object",default:{}},menuButtonGap:{type:"object",default:{}},menuButtonIconPosition:{type:"string",source:"attribute",selector:"label",attribute:"class"},dropdown:{type:"object",default:{}},menuListImage:{type:"object",default:{}},menuWrapper:{type:"object",default:{}},subMenuWrapper:{type:"object",default:{}},css:{type:"string"},ischildOutside:{type:"boolean",default:!1},icon:{type:"boolean"},menuToggleType:{type:"string",default:"click"},blockId:{type:"string",default:""},activeIcon:{type:"string"},closeIcon:{type:"string"},iconPosition:{type:"string",default:"left"},menuOpenState:{type:"string",default:!1},buttonContent:{type:"string"},lists:{type:"array",default:[]}},icon:r.Oo,edit:function(e){var t=e.attributes,o=e.setAttributes,n=e.clientId,r=e.children,s=t.blockId,p=(0,i.useBlockProps)({className:a()("op-block op-megamenu hide-on-mobile op-".concat(s||""," op-megamenu-").concat(s||""," ")),"data-type":"omnipress/megamenu"});return(0,m.jsxs)("div",q(q({},p),{},{children:[r,(0,m.jsx)(G,{clientId:n,attributes:t,setAttributes:o}),(0,m.jsx)(g,{attributes:t})]}))},save:function(){return null},opSettings:K}}}]);