"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[876],{3876:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var o=r(4467),n=r(3986),s=r(42),i=r(4715),a=r(7143),l=r(3562),c=r(6427),d=r(6942),u=r.n(d),p=r(5476),g=r(3582),b=r(8443),h=r(7723),m=r(1030),f=[],y=r(790);const v=function(e){var t,r,o,n,s,i=e.featuredMedia,l=e.title,d=e.description,u=e.date,v=e.authorId,j=e.id,x=e.attributes,_=e.className,k=new Date(u);if((0,b.dateI18n)("F j, Y",k),!j)return(0,y.jsx)("p",{children:(0,h.__)("Post Not Found","omnipress")});var O=(0,a.useSelect)((function(e){var t,r,o=e(g.store),n=o.getTaxonomy,s=o.getUser,a=o.getMedia,l=n("category");return{term:null!=l&&null!==(t=l.visibility)&&void 0!==t&&t.publicly_queryable?l:{},user:s(v),thumbnail:null===(r=a(i))||void 0===r||null===(r=r.media_details)||void 0===r||null===(r=r.sizes)||void 0===r||null===(r=r.thumbnail)||void 0===r?void 0:r.source_url}}),[]),A=O.term,w=O.user,P=O.thumbnail,N=function(e){var t,r=e.postId,o=e.term,n=o.slug;return(0,a.useSelect)((function(e){var t;if(!(null==o||null===(t=o.visibility)||void 0===t?void 0:t.publicly_queryable))return{postTerms:f,isLoading:!1,hasPostTerms:!1};var s=e(g.store),i=s.getEntityRecords,a=s.isResolving,l=["taxonomy",n,{post:r,per_page:-1,context:"view"}],c=i.apply(void 0,l);return{postTerms:c,isLoading:a("getEntityRecords",l),hasPostTerms:!(null==c||!c.length)}}),[r,null==o||null===(t=o.visibility)||void 0===t?void 0:t.publicly_queryable,n])}({postId:j,term:A}),I=N.postTerms,C=N.hasPostTerms;return N.isLoading?(0,y.jsx)(c.Spinner,{}):(0,y.jsxs)("div",{className:"op-block__post-grid-card  ".concat(_),children:[(0,y.jsxs)("div",{className:"op-block__post-grid-card-image",children:[(0,y.jsx)("div",{className:"op-block__post-grid-card-categories",children:!(null!==(t=x.hiddenFields)&&void 0!==t&&t.includes("categories"))&&C&&I&&(0,y.jsx)(m.LJ,{className:"op-block__post-grid-card-categories",categories:I})}),P&&!(null!==(r=x.hiddenFields)&&void 0!==r&&r.includes("thumbnail"))&&(0,y.jsx)(m.Vz,{className:"op-block__post-grid-card-thumbnail",thumbnailUrl:P,altText:l})]}),(0,y.jsxs)("div",{className:"op-block__post-grid-card-content",children:[(0,y.jsxs)("div",{className:"op-block__post-grid-card-meta",children:[!x.hiddenFields.includes("date")&&(0,y.jsx)(m.rK,{className:"op-block__post-grid-card-date",date:u}),!(null!==(o=x.hiddenFields)&&void 0!==o&&o.includes("author"))&&(0,y.jsx)(p.A,{className:"op-block__post-grid-card-author",author:w&&w.name||"",prefix:(0,h.__)("By","omnipress")})]}),!(null!==(n=x.hiddenFields)&&void 0!==n&&n.includes("title"))&&(0,y.jsx)(m.hE,{className:"op-block__post-grid-card-title",title:l}),!(null!==(s=x.hiddenFields)&&void 0!==s&&s.includes("excerpt"))&&(0,y.jsx)(m.Ie,{className:"op-block__post-grid-card-description",excerpt:d})]})]})};var j=r(3453),x=r(9394),_=r(7432),k=r(4182),O=r(6087),A=[{label:"Category",key:"categories"},{label:"Author",key:"author"},{label:"Date",key:"date"},{label:"Title",key:"title"},{label:"Excerpt",key:"excerpt"},{label:"Thumbnail Image",key:"thumbnail"}],w=(0,O.memo)((function(e){var t,r=e.attributes,o=e.setAttributes,n=(0,O.useState)([]),s=(0,j.A)(n,2),i=s[0],l=s[1],d=(0,O.useState)([]),u=(0,j.A)(d,2),p=u[0],g=u[1];return(0,a.useSelect)((function(e){var t,r=e("core").getEntityRecords("taxonomy","category",{per_page:100}),o=null===(t=(0,e("core").getAuthors)())||void 0===t?void 0:t.map((function(e){return{id:e.id,name:e.name}}));g(o);var n=null==r?void 0:r.map((function(e){return{id:e.id,name:e.name,parent:e.parent}}));l((function(){return n}))}),[]),(0,y.jsxs)(_.nM,{label:"General Settings",panelName:"general",children:[(0,y.jsx)(c.RangeControl,{label:"Posts Columns",max:6,min:1,value:r.columns,onChange:function(e){return o({columns:e})}}),(0,y.jsx)(c.QueryControls,{authorList:p,categoriesList:i,numberOfItems:null!==(t=r.postPerPage)&&void 0!==t?t:6,onAuthorChange:function(e){return o({authorId:e})},onCategoryChange:function(e){return o({selectedCategoryId:e})},onNumberOfItemsChange:function(e){o({postPerPage:+e})},onOrderByChange:function(e){return o({orderby:e})},onOrderChange:function(e){return o({order:e})},order:r.order||"desc",orderBy:r.orderby||"date",selectedAuthorId:r.authorId,selectedCategoryId:r.selectedCategoryId})]})}));const P=(0,O.memo)((function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,n=t.selectedCategoryId,s=t.order,a=t.orderby,l=t.postPerPage,d=t.search,u=t.authorId,p=(0,O.useCallback)((function(e){r(e)}),[n,s,a,l,d,columns]),g=(0,O.useMemo)((function(){return t}),[n,s,a,l,d,u,columns]);return(0,y.jsx)(i.InspectorControls,{children:(0,y.jsxs)(k.G,{clientId:o,group:"general",children:[(0,y.jsx)(w,{attributes:g,setAttributes:p}),(0,y.jsxs)(_.nM,{panelName:"thumbnail",label:"Feature Image",children:[(0,y.jsx)(_.gl,{attributeObj:"thumbnail",attributes:t,setAttributes:r}),(0,y.jsx)(_.LX,{attributeObj:"thumbnail",attributes:t,setAttributes:r})]}),(0,y.jsx)(_.nM,{panelName:"toggle",label:"Toggle Settings",children:(0,y.jsx)(_.j,{children:A.map((function(e){return(0,y.jsx)(c.ToggleControl,{label:e.label,checked:!t.hiddenFields.includes(e.key),onChange:function(){t.hiddenFields.includes(e.key)?r({hiddenFields:t.hiddenFields.filter((function(t){return t!==e.key}))}):r({hiddenFields:[].concat((0,x.A)(t.hiddenFields),[e.key])})}},e.label)}))})})]})})}));function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const C=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/post-grid","version":"1.0.0","title":"Post Grid","category":"omnipress","icon":"","description":"Display interactive blog in a grid layout","supports":{"anchor":true},"opSettings":{"card":{"group":"design","selector":".op-block__post-grid-card","label":"card","fields":{"color":{"background":true},"dimension":{"width":true,"height":true},"spacing":{"padding":true,"margin":true},"border":{"border":true,"borderRadius":true}}},"thumbnail":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-image img","label":"Image","fields":{"dimension":{"width":true,"height":true},"spacing":{"margin":true},"border":{"border":true,"borderRadius":true}}},"content":{"group":"design","selector":".op-block__post-grid-card-content","label":"Content","fields":{"spacing":{"margin":true,"padding":true}}},"title":{"group":"design","selector":" .op-block__post-grid-card-title","label":"Title","fields":{"spacing":{"padding":true,"margin":true},"typography":true}},"excerpt":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-description","label":"Excerpt","fields":{"color":{"background":true},"spacing":{"padding":true,"margin":true},"typography":true}},"categories":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-categories a","label":"Categories","fields":{"color":{"background":true},"spacing":{"padding":true},"typography":true,"border":{"border":true,"borderRadius":true}}},"categoriesWrapper":{"group":"design","selector":".op-block__post-grid-card-categories","label":"Categories Wrapper","fields":{"dimension":{"gap":true}}},"date":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-date","label":"Date","fields":{"color":{"background":true},"spacing":{"margin":true},"typography":true}},"author":{"group":"design","selector":".op-block__post-grid-card .op-block__post-grid-card-author a","label":"Author","fields":{"spacing":{"margin":true},"typography":true}}},"attributes":{"blockId":{"type":"string","default":""},"columns":{"type":"number","default":3},"categories":{"type":"object","default":{"borderRadius":"7px","backgroundColor":"#175fff","color":"#ffffff","padding":"0 12px"}},"selectedCategoryId":{"type":"string","default":""},"authorId":{"type":"number","default":0},"postPerPage":{"type":"number"},"isHandPicked":{"type":"boolean","default":false},"orderby":{"type":"string","default":"date"},"order":{"type":"string","default":"desc"},"search":{"type":"string"},"wrapper":{"type":"object","default":{}},"disableAuthor":{"type":"boolean","default":false},"card":{"type":"object","default":{"backgroundColor":"#dbdbdb","borderRadius":"8px 8px 8px 8px"}},"content":{"type":"object","default":{"padding":"12px"}},"thumbnail":{"type":"object","default":{"borderRadius":"8px 8px 0 0","aspectRatio":"4/3"}}},"textdomain":"omnipress","keywords":["woocommerce","woo","category","products"],"style":["omnipress/block/layout"]}');function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=C.name,R=C.opSettings;const F=T(T({name:E,edit:function(e){var t=e.attributes,r=e.setAttributes,n=e.clientId,s=e.isSelected,d=t.blockId,p=t.selectedCategoryId,b=t.search,h=t.order,m=t.postPerPage,f=t.orderby,j=t.authorId,x=t.columns,_=t.smColumns,k=t.mdColumns,O=((0,i.useInnerBlocksProps)({allowedBlocks:["omnipress/post-grid-item"],templates:[["omnipress/container"]]}).children,(0,a.useSelect)((function(){var e=function(){var e=arguments.length>3?arguments[3]:void 0,t=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,o={order:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"desc",orderby:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date",per_page:(arguments.length>2?arguments[2]:void 0)||6};return r&&(o.author=r),e&&(o.categories=e),t&&(o.search=t),o}(h,f,m,p,b,j),t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post",r=(0,a.select)(g.store),o=r.getEntityRecords,n=r.isResolving;return{posts:o("postType",t,e),isResolving:n("core","getEntityRecords",["postType","post"])}}(e);return t}),[h,f,m,p,b,j])),A=O.posts,w=O.isResolving,N=(0,i.useBlockProps)({className:"op-block__post-grid op-block__post-grid-card-wrap op-".concat(d),"data-type":"omnipress/posts"});return w?(0,y.jsx)(c.Spinner,{}):(0,y.jsxs)(l.A,{blockName:"Post Grid",children:[(0,y.jsx)("div",I(I({},N),{},{children:(0,y.jsx)("div",{className:"op-grid-col-".concat(x),children:A&&A.map((function(e){var r;return e&&(0,y.jsx)("div",{className:u()((0,o.A)((0,o.A)((0,o.A)({},"op-layout-col-".concat(x),x),"op-layout-col-".concat(k),k),"op-layout-col-".concat(_),_)),children:(0,y.jsx)(v,{id:e.id,featuredMedia:e.featured_media,title:e.title.rendered,description:e.excerpt.rendered,date:e.date,author:(null===(r=e.author)||void 0===r?void 0:r.name)||"Admin",content:e.content.rendered,authorId:e.author,attributes:t},e.id)})}))})})),s&&(0,y.jsx)(P,{attributes:t,setAttributes:r,clientId:n})]})},description:C.description,keywords:["posts","grid","postlist"],save:function(){return null},category:"omnipress",opSettings:R},(0,n.A)(C,["name","opSettings","description"])),{},{icon:s.Z1})},5476:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(4164),n=r(790);const s=function(e){var t=e.author,r=e.prefix,s=void 0===r?"By":r,i=e.className,a=void 0===i?"":i;return(0,n.jsxs)("div",{className:(0,o.A)("post-author",a),children:[s,(0,n.jsx)("a",{className:"",onClick:function(){},children:t})]})}},1030:(e,t,r)=>{r.d(t,{LJ:()=>s,Ie:()=>i,rK:()=>l,Vz:()=>d,hE:()=>u}),r(5476);var o=r(4164),n=r(790);const s=function(e){var t=e.categories,r=e.className,s=void 0===r?"":r;return t?(0,n.jsx)("div",{className:(0,o.A)("post-categories",s),children:t.map((function(e){return(0,n.jsx)("a",{className:"post-category",href:"#",children:e.name},e.id)}))}):null},i=function(e){var t=e.excerpt,r=e.className,s=void 0===r?"":r;return(0,n.jsx)("div",{className:(0,o.A)("post-excerpt",s),dangerouslySetInnerHTML:{__html:t}})};var a=r(8443);const l=function(e){var t=e.date,r=e.className,s=void 0===r?"":r,i=new Date(t),l=(0,a.dateI18n)("F j, Y",i);return(0,n.jsx)("div",{className:(0,o.A)("post-date",s),children:l})};var c=window._omnipress;const d=function(e){var t,r=e.thumbnailUrl,s=e.altText,i=void 0===s?"Post Thumbnail":s,a=e.className,l=void 0===a?"":a;return(0,n.jsx)("figure",{className:(0,o.A)("post-thumbnail",l),children:(0,n.jsx)("img",{alt:i,src:r||(null==c||null===(t=c.urls)||void 0===t?void 0:t.omnipress)+"assets/images/placeholder.webp"})})},u=function(e){var t=e.title,r=e.tagName,s=void 0===r?"h4":r,i=e.className,a=void 0===i?"":i,l=s;return(0,n.jsx)(l,{className:(0,o.A)("post-title",a),children:(0,n.jsx)("a",{href:"",children:t})})}},3562:(e,t,r)=>{r.d(t,{A:()=>b});var o=r(3029),n=r(2901),s=r(388),i=r(3954),a=r(5361),l=r(4467),c=r(6087),d=r(7723),u=r(790);const p=function(e){var t,r,o=e.errorInfo,n=e.error,s=e.blockName;return console.error(n,o),(0,u.jsxs)("details",{className:"op-block-error__handler",style:{whiteSpace:"pre-wrap"},children:[(0,u.jsx)("summary",{children:(0,d.__)("Unfortunately, The [ ".concat(s," ] Block isn't displaying correctly.."),"omnipress")}),(0,u.jsxs)("pre",{children:[(0,u.jsx)("div",{children:(0,u.jsx)("p",{children:(0,d.__)("Our team is looking into it and will update you shortly.","omnipress")})}),(0,u.jsx)("br",{}),(0,u.jsxs)("div",{className:"oaerror danger",children:[(0,u.jsx)("strong",{children:n&&(null===(t=n.toString().split("\n")[0])||void 0===t?void 0:t.split(":")[0])}),":",n&&(null===(r=n.toString().split("\n")[0])||void 0===r?void 0:r.split(":")[1])]})]})]})};function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}const b=function(e){function t(){var e,r,n,a;(0,o.A)(this,t);for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];return r=this,n=t,a=[].concat(d),n=(0,i.A)(n),e=(0,s.A)(r,g()?Reflect.construct(n,a||[],(0,i.A)(r).constructor):n.apply(r,a)),(0,l.A)(e,"state",{errorMessage:"",hasError:!1,errorInfo:""}),e}return(0,a.A)(t,e),(0,n.A)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({errorMessage:e,hasError:!0,errorInfo:t})}},{key:"render",value:function(){var e=this.props,t=e.renderError,r=(e.button,e.blockName),o=this.state,n=o.errorMessage;return o.hasError?"function"==typeof t?t({errorMessage:n}):(0,u.jsx)(p,{errorInfo:this.state.errorInfo,blockName:r,error:this.state.errorMessage}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("strong",{children:e.status}),":Â ",e.statusText]}),hasError:!0}:{errorMessage:e.message,hasError:!0}}}])}(c.Component)},3029:(e,t,r)=>{function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{A:()=>o})},2901:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(9922);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,o.A)(n.key),n)}}function s(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},3954:(e,t,r)=>{function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}r.d(t,{A:()=>o})},5361:(e,t,r)=>{function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}r.d(t,{A:()=>n})},388:(e,t,r)=>{r.d(t,{A:()=>n});var o=r(2284);function n(e,t){if(t&&("object"==(0,o.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}}}]);