"use strict";(globalThis.webpackChunkomnipress=globalThis.webpackChunkomnipress||[]).push([[309],{6861:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var o=r(4467),n=r(42);const i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"omnipress/single-product","title":"Single Product","category":"omnipress-woo","icon":"grid-view","providesContext":{},"usesContext":["postType","postId","queryId","post"],"textdomain":"omnipress","supports":{"interactivity":true},"parent":["omnipress/query-template"],"opSettings":{"title":{"group":"design","selector":".post-title > a","label":"Title","fields":{"spacing":{"padding":true,"margin":true},"typography":true}},"image":{"group":"design","selector":".post-thumbnail","label":"Thumbnail","fields":{"dimension":{"width":true,"height":true},"spacing":{"margin":true},"border":{"border":true,"borderRadius":true}}},"categories":{"group":"design","selector":".product-categories > a","label":"Categories","fields":{"spacing":{"padding":true,"margin":true},"typography":true}},"price":{"group":"design","selector":".woocommerce-Price-amount","label":"Price","fields":{"spacing":{"padding":true,"margin":true},"typography":true}},"sale_price":{"group":"design","selector":".woocommerce-Price-amount:not(del > .woocommerce-Price-amount)","label":"sale Price","fields":{"spacing":{"padding":true,"margin":true},"typography":true}},"add_to_cart":{"group":"design","selector":".add-to-cart.button","label":"Add to Cart","fields":{"typography":true,"color":{"background":true},"dimension":{"width":true,"height":true},"spacing":{"padding":true,"margin":true},"border":{"border":true,"borderRadius":true}}},"ratings":{"group":"design","selector":".woocommerce-product-rating li","label":"Ratings","fields":{"typography":true,"dimension":{"gap":true,"margin":true,"padding":true}}}},"attributes":{"blockId":{"type":"string"},"productId":{"type":"number"},"layout":{"type":"object","default":{}},"layoutType":{"type":"string","default":"one"}},"keywords":["product","block","product block","single product"]}');var s=r(4715),a=r(6087),l=r(7723),c=r(6942),u=r.n(c),p=r(6427),d=r(9394),g=r(882),b=r(4182),y=r(790),m=[{label:"Title",key:"title"},{label:"Excerpt",key:"excerpt"},{label:"Thumbnail Image",key:"thumbnail"},{label:"Category",key:"categories"},{label:"Tags",key:"tags"},{label:"Price",key:"price"},{label:"Add To Cart Button",key:"add_to_cart"},{label:"Ratings",key:"rating"}],h=[{label:(0,l.__)("Layout One","omnipress"),value:"one"},{label:(0,l.__)("Layout Two","omnipress"),value:"two"},{label:(0,l.__)("Layout Three","omnipress"),value:"three"}];const f=(0,a.memo)((function(e){var t=e.attributes,r=e.setAttributes,o=e.clientId,n=(0,a.useCallback)((function(e){t.hiddenFields.includes(e)?r({hiddenFields:t.hiddenFields.filter((function(t){return t!==e}))}):r({hiddenFields:[].concat((0,d.A)(t.hiddenFields),[e])})}),[t,r]);return(0,y.jsx)(s.InspectorControls,{children:(0,y.jsxs)(b.G,{clientId:o,group:"general",children:[(0,y.jsx)(g.nM,{initialOpen:!0,panelName:"general_settings",label:"General",children:(0,y.jsx)(p.SelectControl,{label:(0,l.__)("Layouts","omnipress"),value:t.layoutType,options:h,onChange:function(e){r({layoutType:e})}})}),(0,y.jsx)(g.nM,{initialOpen:!0,panelName:"toggle",label:"Toggle Settings",children:m.map((function(e){return(0,y.jsx)(p.ToggleControl,{label:e.label,checked:!t.hiddenFields.includes(e.key),onChange:function(){n(e.key)}},e.label)}))})]})})}));function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(1e3*Math.random()).toFixed(2);var k={one:(0,a.lazy)((function(){return r.e(368).then(r.bind(r,8368))})),two:(0,a.lazy)((function(){return r.e(758).then(r.bind(r,9758))})),three:(0,a.lazy)((function(){return r.e(544).then(r.bind(r,6544))}))},w=function(e){var t=e.layoutType,r=void 0===t?"one":t,o=e.product,n=k[r];return n?(0,y.jsx)(a.Suspense,{fallback:(0,y.jsx)(p.Spinner,{}),children:(0,y.jsx)(n,{post:o})}):"Layout not found.."};function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x=v(v({edit:function(e){var t=e.setAttributes,r=e.clientId,n=e.isSelected,i=e.context,a=i.postType,c=i.postId,d=(i.queryId,i.post),g=e.attributes,b=(e.__unstableLayoutClassNames,(0,s.useBlockProps)({className:u()("op-single-product-wrapper op-block-single-product-layout-".concat(g.layoutType),(0,o.A)({},"op-".concat(g.blockId),g.blockId))}));return"product"===a&&c?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",O(O({},b),{},{children:g.layoutType&&(0,y.jsx)(w,{layoutType:g.layoutType,product:d})})),n&&(0,y.jsx)(f,{attributes:g,setAttributes:t,clientId:r})]}):(0,y.jsx)("div",O(O({},b),{},{children:(0,y.jsx)(p.Notice,{isDismissible:!1,status:"warning",children:(0,l.__)("Please select a Product in the Query Loop.","omnipress")})}))}},i),{},{icon:n.sj})}}]);